<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistant M√©dical IA 4.0 - Nexyna Pro Max</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .container {
            position: relative;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            max-width: 1600px;
            width: 95%;
            margin: 20px auto;
            overflow: hidden;
            animation: slideUp 0.8s ease-out;
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
            padding: 25px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .version-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: bold;
        }

        .language-selector {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 5px;
        }

        .language-selector select {
            background: transparent;
            border: none;
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
        }

        .cloud-status {
            position: absolute;
            top: 50px;
            right: 15px;
            background: rgba(255,255,255,0.2);
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 11px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #4caf50;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .main-nav {
            background: #f8f9fa;
            padding: 15px;
            border-bottom: 1px solid #dee2e6;
        }

        .nav-tabs {
            display: flex;
            gap: 10px;
            overflow-x: auto;
        }

        .nav-tab {
            padding: 12px 20px;
            border: none;
            background: white;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-tab.active {
            background: #2196F3;
            color: white;
        }

        .nav-tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .main-content {
            display: grid;
            grid-template-columns: 350px 1fr 400px;
            gap: 30px;
        }

        /* Panneau patient */
        .patient-panel {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            height: fit-content;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            margin-bottom: 15px;
        }

        .form-group label {
            font-weight: 600;
            color: #1976D2;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .form-group input, .form-group select, .form-group textarea {
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            outline: none;
            border-color: #2196F3;
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        .patient-summary {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            padding: 15px;
            border-radius: 12px;
            margin-top: 20px;
            font-size: 13px;
        }

        /* Capteurs biom√©triques */
        .sensors-panel {
            background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .sensor-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .sensor-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .sensor-value {
            font-size: 1.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        .sensor-trend {
            font-size: 12px;
            color: #4caf50;
        }

        /* Corps interactif */
        .body-panel {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .body-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .body-type-btn {
            padding: 10px 20px;
            border: 2px solid #2196F3;
            background: white;
            color: #2196F3;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .body-type-btn.active {
            background: #2196F3;
            color: white;
        }

        .view-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .view-btn {
            padding: 8px 15px;
            border: 1px solid #ccc;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }

        .view-btn.active {
            background: #4caf50;
            color: white;
        }

        .body-container {
            position: relative;
            width: 100%;
            height: 500px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .body-svg {
            width: 100%;
            max-width: 280px;
            height: 450px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .body-part {
            fill: #e3f2fd;
            stroke: #2196F3;
            stroke-width: 2;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .body-part:hover {
            fill: #2196F3;
            stroke: #1976D2;
            stroke-width: 3;
            filter: drop-shadow(0 5px 15px rgba(33, 150, 243, 0.4));
        }

        .body-part.selected {
            fill: #f44336;
            stroke: #d32f2f;
            stroke-width: 3;
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pain-scale {
            margin: 20px 0;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .pain-slider {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: linear-gradient(to right, #4caf50, #ffeb3b, #ff9800, #f44336);
            outline: none;
            margin: 15px 0;
        }

        .pain-display {
            text-align: center;
            font-size: 1.8em;
            font-weight: bold;
            margin: 10px 0;
        }

        /* Panneau sympt√¥mes */
        .symptoms-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .voice-controls {
            background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .voice-btn {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin: 10px 0;
        }

        .voice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }

        .voice-btn.recording {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            animation: recordingPulse 1s ease-in-out infinite;
        }

        @keyframes recordingPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .quick-symptoms {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .symptom-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .symptom-tag {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 12px;
        }

        .symptom-tag:hover {
            background: #2196F3;
            color: white;
        }

        .symptom-tag.selected {
            background: #4caf50;
            color: white;
        }

        .question-input {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .question-input textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 14px;
            min-height: 120px;
            resize: vertical;
            transition: all 0.3s ease;
        }

        .question-input textarea:focus {
            outline: none;
            border-color: #2196F3;
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        .analyze-btn {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 15px;
        }

        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(33, 150, 243, 0.3);
        }

        /* Base de donn√©es m√©dicale */
        .medical-db {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .search-box input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
        }

        .search-box button {
            padding: 10px 20px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .medical-results {
            max-height: 300px;
            overflow-y: auto;
        }

        .medical-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #2196F3;
        }

        /* T√©l√©consultation */
        .teleconsult-panel {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .video-container {
            background: #000;
            border-radius: 10px;
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            position: relative;
        }

        .video-placeholder {
            color: white;
            text-align: center;
        }

        .video-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }

        .video-btn {
            padding: 12px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .video-btn.start { background: #4caf50; color: white; }
        .video-btn.stop { background: #f44336; color: white; }
        .video-btn.mute { background: #ff9800; color: white; }

        /* Suivi temporal */
        .timeline-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .timeline {
            position: relative;
            margin: 20px 0;
        }

        .timeline-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #2196F3;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 20px;
            width: 12px;
            height: 12px;
            background: #2196F3;
            border-radius: 50%;
        }

        .chart-container {
            height: 300px;
            background: #f8f9fa;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
        }

        /* IA avanc√©e */
        .ai-panel {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .ai-status {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .ai-indicator {
            width: 12px;
            height: 12px;
            background: #4caf50;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .confidence-meter {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #f44336, #ff9800, #4caf50);
            transition: width 0.3s ease;
        }

        /* Cloud sync */
        .cloud-panel {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .sync-status {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .sync-btn {
            background: #4caf50;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
        }

        /* Section r√©ponse */
        .response-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-left: 5px solid #2196F3;
            display: none;
            grid-column: 1 / -1;
        }

        .response-section.show {
            display: block;
            animation: expandIn 0.6s ease-out;
        }

        @keyframes expandIn {
            from { opacity: 0; transform: scale(0.9) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .emergency-alert {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            animation: emergencyBlink 1s ease-in-out infinite;
        }

        @keyframes emergencyBlink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .loading {
            display: none;
            text-align: center;
            padding: 30px;
            background: white;
            border-radius: 15px;
            margin: 20px 0;
        }

        .loading.show {
            display: block;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #2196F3;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .disclaimer {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 1px solid #ffeaa7;
            border-radius: 15px;
            padding: 20px;
            margin: 30px 0;
            font-size: 14px;
            color: #856404;
            grid-column: 1 / -1;
        }

        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                width: calc(100% - 20px);
            }
            
            .tab-content {
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <!-- Particules d'arri√®re-plan -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <div class="header">
            <!-- S√©lecteur de langue -->
            <div class="language-selector">
                <select id="languageSelect">
                    <option value="fr">üá´üá∑ Fran√ßais</option>
                    <option value="en">üá¨üáß English</option>
                    <option value="es">üá™üá∏ Espa√±ol</option>
                    <option value="de">üá©üá™ Deutsch</option>
                    <option value="it">üáÆüáπ Italiano</option>
                    <option value="ar">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>
                </select>
            </div>

            <!-- Statut cloud -->
            <div class="cloud-status" id="cloudStatus">
                <div class="status-indicator"></div>
                <span>Cloud connect√©</span>
            </div>

            <div class="version-badge">v4.0 ULTIMATE</div>
            <h1>üè• Assistant M√©dical IA Ultimate</h1>
            <p>Plateforme m√©dicale intelligente avec IA, t√©l√©consultation et capteurs IoT</p>
        </div>

        <!-- Navigation par onglets -->
        <div class="main-nav">
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTab('consultation')">
                    ü©∫ Consultation
                </button>
                <button class="nav-tab" onclick="switchTab('database')">
                    üìö Base M√©dicale
                </button>
                <button class="nav-tab" onclick="switchTab('teleconsult')">
                    üìπ T√©l√©consultation
                </button>
                <button class="nav-tab" onclick="switchTab('timeline')">
                    üìà Suivi Temporal
                </button>
                <button class="nav-tab" onclick="switchTab('sensors')">
                    üì± Capteurs IoT
                </button>
                <button class="nav-tab" onclick="switchTab('ai')">
                    ü§ñ IA Avanc√©e
                </button>
                <button class="nav-tab" onclick="switchTab('cloud')">
                    ‚òÅÔ∏è Cloud Sync
                </button>
            </div>
        </div>

        <!-- Onglet Consultation -->
        <div class="tab-content active" id="consultation">
            <div class="main-content">
                <!-- Panneau Patient -->
                <div class="patient-panel">
                    <h3 style="color: #1976D2; margin-bottom: 20px;">üë§ Informations Patient</h3>
                    <form class="patient-form" id="patientForm">
                        <div class="form-group">
                            <label for="firstName">Pr√©nom *</label>
                            <input type="text" id="firstName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="lastName">Nom *</label>
                            <input type="text" id="lastName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="birthDate">Date de naissance *</label>
                            <input type="date" id="birthDate" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="gender">Sexe *</label>
                            <select id="gender" required>
                                <option value="">S√©lectionner</option>
                                <option value="homme">Homme</option>
                                <option value="femme">Femme</option>
                                <option value="enfant-garcon">Enfant (Gar√ßon)</option>
                                <option value="enfant-fille">Enfant (Fille)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="weight">Poids (kg)</label>
                            <input type="number" id="weight" min="1" max="300">
                        </div>
                        
                        <div class="form-group">
                            <label for="height">Taille (cm)</label>
                            <input type="number" id="height" min="50" max="250">
                        </div>
                        
                        <div class="form-group">
                            <label for="allergies">Allergies connues</label>
                            <textarea id="allergies" rows="2" placeholder="M√©dicaments, aliments, substances..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="medications">Traitements actuels</label>
                            <textarea id="medications" rows="2" placeholder="M√©dicaments pris r√©guli√®rement..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="medicalHistory">Ant√©c√©dents m√©dicaux</label>
                            <textarea id="medicalHistory" rows="3" placeholder="Maladies, op√©rations, hospitalisations..."></textarea>
                        </div>
                    </form>
                    
                    <div class="patient-summary" id="patientSummary">
                        <strong>üìã R√©sum√©:</strong>
                        <div id="summaryContent">Remplissez les informations ci-dessus</div>
                    </div>

                    <!-- Capteurs biom√©triques -->
                    <div class="sensors-panel">
                        <h4 style="color: #1976D2; margin-bottom: 10px;">üì± Capteurs Biom√©triques</h4>
                        <div class="sensor-grid">
                            <div class="sensor-card">
                                <div style="font-size: 12px; color: #666;">Rythme Cardiaque</div>
                                <div class="sensor-value" id="heartRate">--</div>
                                <div class="sensor-trend" id="heartTrend">--</div>
                            </div>
                            <div class="sensor-card">
                                <div style="font-size: 12px; color: #666;">Temp√©rature</div>
                                <div class="sensor-value" id="temperature">--</div>
                                <div class="sensor-trend" id="tempTrend">--</div>
                            </div>
                            <div class="sensor-card">
                                <div style="font-size: 12px; color: #666;">Tension</div>
                                <div class="sensor-value" id="bloodPressure">--</div>
                                <div class="sensor-trend" id="pressureTrend">--</div>
                            </div>
                            <div class="sensor-card">
                                <div style="font-size: 12px; color: #666;">SpO2</div>
                                <div class="sensor-value" id="oxygenSat">--</div>
                                <div class="sensor-trend" id="oxygenTrend">--</div>
                            </div>
                        </div>
                        <button class="voice-btn" onclick="connectSensors()">
                            üì± Connecter capteurs
                        </button>
                    </div>
                </div>

                <!-- Panneau Corps -->
                <div class="body-panel">
                    <h3 style="color: #1976D2; margin-bottom: 20px;">ü´Å Localisation des sympt√¥mes</h3>
                    
                    <!-- Contr√¥les type de corps -->
                    <div class="body-controls">
                        <button class="body-type-btn active" onclick="switchBodyType('homme')">üë® Homme</button>
                        <button class="body-type-btn" onclick="switchBodyType('femme')">üë© Femme</button>
                        <button class="body-type-btn" onclick="switchBodyType('enfant')">üßí Enfant</button>
                    </div>
                    
                    <!-- Contr√¥les de vue -->
                    <div class="view-controls">
                        <button class="view-btn active" onclick="switchView('face')">Face</button>
                        <button class="view-btn" onclick="switchView('profile')">Profil</button>
                        <button class="view-btn" onclick="switchView('back')">Dos</button>
                    </div>
                    
                    <!-- Container du corps -->
                    <div class="body-container">
                        <svg class="body-svg" viewBox="0 0 300 450" id="bodySvg">
                            <!-- Corps Homme Face -->
                            <g id="homme-face" class="body-view">
                                <!-- T√™te -->
                                <ellipse class="body-part" data-part="t√™te" cx="150" cy="50" rx="35" ry="40" onclick="selectBodyPart('t√™te')" />
                                <!-- Cou -->
                                <rect class="body-part" data-part="cou" x="135" y="90" width="30" height="25" onclick="selectBodyPart('cou')" />
                                <!-- √âpaules -->
                                <ellipse class="body-part" data-part="√©paule gauche" cx="100" cy="130" rx="25" ry="15" onclick="selectBodyPart('√©paule gauche')" />
                                <ellipse class="body-part" data-part="√©paule droite" cx="200" cy="130" rx="25" ry="15" onclick="selectBodyPart('√©paule droite')" />
                                <!-- Torse -->
                                <rect class="body-part" data-part="poitrine" x="110" y="115" width="80" height="80" onclick="selectBodyPart('poitrine')" />
                                <!-- Bras -->
                                <rect class="body-part" data-part="bras gauche" x="70" y="140" width="25" height="80" onclick="selectBodyPart('bras gauche')" />
                                <rect class="body-part" data-part="bras droit" x="205" y="140" width="25" height="80" onclick="selectBodyPart('bras droit')" />
                                <!-- Avant-bras -->
                                <rect class="body-part" data-part="avant-bras gauche" x="72" y="220" width="21" height="70" onclick="selectBodyPart('avant-bras gauche')" />
                                <rect class="body-part" data-part="avant-bras droit" x="207" y="220" width="21" height="70" onclick="selectBodyPart('avant-bras droit')" />
                                <!-- Mains -->
                                <ellipse class="body-part" data-part="main gauche" cx="82" cy="305" rx="12" ry="18" onclick="selectBodyPart('main gauche')" />
                                <ellipse class="body-part" data-part="main droite" cx="218" cy="305" rx="12" ry="18" onclick="selectBodyPart('main droite')" />
                                <!-- Abdomen -->
                                <rect class="body-part" data-part="abdomen" x="115" y="195" width="70" height="70" onclick="selectBodyPart('abdomen')" />
                                <!-- Hanches -->
                                <rect class="body-part" data-part="bassin" x="120" y="265" width="60" height="40" onclick="selectBodyPart('bassin')" />
                                <!-- Cuisses -->
                                <rect class="body-part" data-part="cuisse gauche" x="125" y="305" width="25" height="80" onclick="selectBodyPart('cuisse gauche')" />
                                <rect class="body-part" data-part="cuisse droite" x="150" y="305" width="25" height="80" onclick="selectBodyPart('cuisse droite')" />
                                <!-- Genoux -->
                                <circle class="body-part" data-part="genou gauche" cx="137" cy="385" r="12" onclick="selectBodyPart('genou gauche')" />
                                <circle class="body-part" data-part="genou droit" cx="162" cy="385" r="12" onclick="selectBodyPart('genou droit')" />
                                <!-- Jambes -->
                                <rect class="body-part" data-part="jambe gauche" x="127" y="397" width="20" height="75" onclick="selectBodyPart('jambe gauche')" />
                                <rect class="body-part" data-part="jambe droite" x="153" y="397" width="20" height="75" onclick="selectBodyPart('jambe droite')" />
                                <!-- Pieds -->
                                <ellipse class="body-part" data-part="pied gauche" cx="137" cy="485" rx="18" ry="12" onclick="selectBodyPart('pied gauche')" />
                                <ellipse class="body-part" data-part="pied droit" cx="162" cy="485" rx="18" ry="12" onclick="selectBodyPart('pied droit')" />
                            </g>
                            
                            <!-- Corps Femme Face -->
                            <g id="femme-face" class="body-view" style="display: none;">
                                <ellipse class="body-part" data-part="t√™te" cx="150" cy="50" rx="32" ry="38" onclick="selectBodyPart('t√™te')" />
                                <rect class="body-part" data-part="cou" x="138" y="88" width="24" height="22" onclick="selectBodyPart('cou')" />
                                <ellipse class="body-part" data-part="√©paule gauche" cx="105" cy="125" rx="22" ry="12" onclick="selectBodyPart('√©paule gauche')" />
                                <ellipse class="body-part" data-part="√©paule droite" cx="195" cy="125" rx="22" ry="12" onclick="selectBodyPart('√©paule droite')" />
                                <rect class="body-part" data-part="poitrine" x="115" y="110" width="70" height="75" onclick="selectBodyPart('poitrine')" />
                                <rect class="body-part" data-part="bras gauche" x="75" y="135" width="22" height="75" onclick="selectBodyPart('bras gauche')" />
                                <rect class="body-part" data-part="bras droit" x="203" y="135" width="22" height="75" onclick="selectBodyPart('bras droit')" />
                                <rect class="body-part" data-part="avant-bras gauche" x="77" y="210" width="18" height="65" onclick="selectBodyPart('avant-bras gauche')" />
                                <rect class="body-part" data-part="avant-bras droit" x="205" y="210" width="18" height="65" onclick="selectBodyPart('avant-bras droit')" />
                                <ellipse class="body-part" data-part="main gauche" cx="86" cy="285" rx="10" ry="15" onclick="selectBodyPart('main gauche')" />
                                <ellipse class="body-part" data-part="main droite" cx="214" cy="285" rx="10" ry="15" onclick="selectBodyPart('main droite')" />
                                <rect class="body-part" data-part="abdomen" x="120" y="185" width="60" height="65" onclick="selectBodyPart('abdomen')" />
                                <ellipse class="body-part" data-part="bassin" cx="150" cy="275" rx="35" ry="25" onclick="selectBodyPart('bassin')" />
                                <rect class="body-part" data-part="cuisse gauche" x="130" y="300" width="22" height="85" onclick="selectBodyPart('cuisse gauche')" />
                                <rect class="body-part" data-part="cuisse droite" x="148" y="300" width="22" height="85" onclick="selectBodyPart('cuisse droite')" />
                                <circle class="body-part" data-part="genou gauche" cx="141" cy="385" r="10" onclick="selectBodyPart('genou gauche')" />
                                <circle class="body-part" data-part="genou droit" cx="159" cy="385" r="10" onclick="selectBodyPart('genou droit')" />
                                <rect class="body-part" data-part="jambe gauche" x="133" y="395" width="16" height="75" onclick="selectBodyPart('jambe gauche')" />
                                <rect class="body-part" data-part="jambe droite" x="151" y="395" width="16" height="75" onclick="selectBodyPart('jambe droite')" />
                                <ellipse class="body-part" data-part="pied gauche" cx="141" cy="480" rx="15" ry="10" onclick="selectBodyPart('pied gauche')" />
                                <ellipse class="body-part" data-part="pied droit" cx="159" cy="480" rx="15" ry="10" onclick="selectBodyPart('pied droit')" />
                            </g>
                            
                            <!-- Corps Enfant Face -->
                            <g id="enfant-face" class="body-view" style="display: none;">
                                <ellipse class="body-part" data-part="t√™te" cx="150" cy="60" rx="40" ry="45" onclick="selectBodyPart('t√™te')" />
                                <rect class="body-part" data-part="cou" x="140" y="105" width="20" height="15" onclick="selectBodyPart('cou')" />
                                <ellipse class="body-part" data-part="√©paule gauche" cx="110" cy="135" rx="20" ry="10" onclick="selectBodyPart('√©paule gauche')" />
                                <ellipse class="body-part" data-part="√©paule droite" cx="190" cy="135" rx="20" ry="10" onclick="selectBodyPart('√©paule droite')" />
                                <rect class="body-part" data-part="poitrine" x="120" y="120" width="60" height="60" onclick="selectBodyPart('poitrine')" />
                                <rect class="body-part" data-part="bras gauche" x="85" y="140" width="18" height="60" onclick="selectBodyPart('bras gauche')" />
                                <rect class="body-part" data-part="bras droit" x="197" y="140" width="18" height="60" onclick="selectBodyPart('bras droit')" />
                                <rect class="body-part" data-part="avant-bras gauche" x="87" y="200" width="14" height="50" onclick="selectBodyPart('avant-bras gauche')" />
                                <rect class="body-part" data-part="avant-bras droit" x="199" y="200" width="14" height="50" onclick="selectBodyPart('avant-bras droit')" />
                                <ellipse class="body-part" data-part="main gauche" cx="94" cy="260" rx="8" ry="12" onclick="selectBodyPart('main gauche')" />
                                <ellipse class="body-part" data-part="main droite" cx="206" cy="260" rx="8" ry="12" onclick="selectBodyPart('main droite')" />
                                <rect class="body-part" data-part="abdomen" x="125" y="180" width="50" height="50" onclick="selectBodyPart('abdomen')" />
                                <rect class="body-part" data-part="bassin" x="130" y="230" width="40" height="30" onclick="selectBodyPart('bassin')" />
                                <rect class="body-part" data-part="cuisse gauche" x="135" y="260" width="18" height="70" onclick="selectBodyPart('cuisse gauche')" />
                                <rect class="body-part" data-part="cuisse droite" x="147" y="260" width="18" height="70" onclick="selectBodyPart('cuisse droite')" />
                                <circle class="body-part" data-part="genou gauche" cx="144" cy="330" r="8" onclick="selectBodyPart('genou gauche')" />
                                <circle class="body-part" data-part="genou droit" cx="156" cy="330" r="8" onclick="selectBodyPart('genou droit')" />
                                <rect class="body-part" data-part="jambe gauche" x="138" y="338" width="12" height="60" onclick="selectBodyPart('jambe gauche')" />
                                <rect class="body-part" data-part="jambe droite" x="150" y="338" width="12" height="60" onclick="selectBodyPart('jambe droite')" />
                                <ellipse class="body-part" data-part="pied gauche" cx="144" cy="408" rx="12" ry="8" onclick="selectBodyPart('pied gauche')" />
                                <ellipse class="body-part" data-part="pied droit" cx="156" cy="408" rx="12" ry="8" onclick="selectBodyPart('pied droit')" />
                            </g>
                        </svg>
                    </div>
                    
                    <div id="selectedPart" style="margin-top: 15px; font-weight: bold; color: #1976D2;"></div>
                    
                    <!-- √âchelle de douleur -->
                    <div class="pain-scale">
                        <h4 style="color: #1976D2; margin-bottom: 10px;">üìä Intensit√© de la douleur</h4>
                        <input type="range" class="pain-slider" id="painScale" min="0" max="10" value="0" oninput="updatePainLevel(this.value)">
                        <div class="pain-display" id="painDisplay">üòä 0/10</div>
                        <div style="display: flex; justify-content: space-between; font-size: 11px; color: #666;">
                            <span>Aucune</span>
                            <span>L√©g√®re</span>
                            <span>Mod√©r√©e</span>
                            <span>S√©v√®re</span>
                            <span>Extr√™me</span>
                        </div>
                    </div>
                </div>

                <!-- Panneau Sympt√¥mes -->
                <div class="symptoms-panel">
                    <!-- Reconnaissance vocale -->
                    <div class="voice-controls">
                        <h4 style="color: #1976D2; margin-bottom: 15px;">üé§ Reconnaissance vocale</h4>
                        <button class="voice-btn" id="voiceBtn" onclick="toggleVoiceRecognition()">
                            <span id="voiceText">üé§ Cliquez et d√©crivez vos sympt√¥mes</span>
                        </button>
                        <div id="voiceResult" style="margin-top: 10px; font-style: italic; color: #666; font-size: 13px;"></div>
                    </div>

                    <!-- Sympt√¥mes rapides -->
                    <div class="quick-symptoms">
                        <h4 style="color: #1976D2; margin-bottom: 10px;">‚ö° Sympt√¥mes fr√©quents</h4>
                        <div class="symptom-tags">
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'mal de t√™te')">Mal de t√™te</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'fi√®vre')">Fi√®vre</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'naus√©e')">Naus√©e</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'fatigue')">Fatigue</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'toux')">Toux</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'douleur musculaire')">Douleur musculaire</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'vertige')">Vertige</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'insomnie')">Insomnie</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'douleur abdominale')">Douleur abdominale</span>
                            <span class="symptom-tag" onclick="toggleSymptom(this, 'difficult√© respiration')">Difficult√© √† respirer</span>
                        </div>
                    </div>

                    <!-- IA Avanc√©e -->
                    <div class="ai-panel">
                        <div class="ai-status">
                            <div class="ai-indicator"></div>
                            <span>IA M√©dicale Active</span>
                        </div>
                        <div>Niveau de confiance:</div>
                        <div class="confidence-meter">
                            <div class="confidence-fill" id="confidenceFill" style="width: 0%"></div>
                        </div>
                        <div style="font-size: 12px; color: #666;" id="aiInsight">En attente d'analyse...</div>
                    </div>

                    <!-- Description d√©taill√©e -->
                    <div class="question-input">
                        <h4 style="color: #1976D2; margin-bottom: 15px;">‚úçÔ∏è Description d√©taill√©e</h4>
                        <textarea id="questionInput" placeholder="D√©crivez pr√©cis√©ment vos sympt√¥mes, leur d√©but, leur √©volution..." oninput="updateAIInsight()"></textarea>
                        
                        <button class="analyze-btn" id="analyzeBtn" onclick="analyzeSymptoms()">
                            üîç Lancer l'analyse compl√®te
                        </button>
                    </div>
                </div>

                <!-- Loading -->
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p id="loadingText">Analyse en cours avec IA avanc√©e...</p>
                </div>

                <!-- Section R√©ponse -->
                <div class="response-section" id="responseSection">
                    <div style="display: flex; align-items: center; margin-bottom: 20px;">
                        <div style="background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 20px; font-size: 20px;">ü©∫</div>
                        <h3>Diagnostic IA - Rapport Complet</h3>
                        <div style="margin-left: auto;">
                            <button class="sync-btn" onclick="exportToPDF()">üìÑ Export PDF</button>
                            <button class="sync-btn" onclick="saveToHistory()">üíæ Sauvegarder</button>
                        </div>
                    </div>
                    <div id="responseContent"></div>
                </div>

                <!-- Disclaimer -->
                <div class="disclaimer">
                    <strong>‚ö†Ô∏è Avertissement m√©dical important :</strong> 
                    Cet assistant utilise une intelligence artificielle avanc√©e pour analyser vos sympt√¥mes et fournir des informations m√©dicales. 
                    Il ne remplace pas un diagnostic m√©dical professionnel.
                </div>
            </div>
        </div>

        <!-- Onglet Base de Donn√©es M√©dicale -->
        <div class="tab-content" id="database">
            <div class="medical-db">
                <h3>üìö Base de Donn√©es M√©dicale Mondiale</h3>
                <p>Acc√©dez √† plus de 500 000 r√©f√©rences m√©dicales, √©tudes cliniques et protocoles de traitement</p>
                
                <div class="search-box">
                    <input type="text" id="medicalSearch" placeholder="Rechercher une maladie, sympt√¥me, m√©dicament...">
                    <button onclick="searchMedicalDB()">üîç Rechercher</button>
                </div>
                
                <div class="medical-results" id="medicalResults">
                    <div class="medical-item">
                        <h4>üí° Suggestions de recherche</h4>
                        <p>‚Ä¢ Hypertension art√©rielle - causes et traitements</p>
                        <p>‚Ä¢ Diab√®te type 2 - protocoles de suivi</p>
                        <p>‚Ä¢ Migraine - th√©rapies innovantes</p>
                        <p>‚Ä¢ D√©pression - approches th√©rapeutiques</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Onglet T√©l√©consultation -->
        <div class="tab-content" id="teleconsult">
            <div class="teleconsult-panel">
                <h3>üìπ T√©l√©consultation M√©dicale</h3>
                <p>Consultez un m√©decin en temps r√©el par vid√©oconf√©rence s√©curis√©e</p>
                
                <div class="video-container" id="videoContainer">
                    <div class="video-placeholder">
                        <h3>üìπ En attente de connexion</h3>
                        <p>Cliquez sur "D√©marrer" pour lancer la t√©l√©consultation</p>
                    </div>
                </div>
                
                <div class="video-controls">
                    <button class="video-btn start" onclick="startVideoCall()">üìπ D√©marrer</button>
                    <button class="video-btn mute" onclick="toggleMute()">üé§ Mute</button>
                    <button class="video-btn stop" onclick="stopVideoCall()">‚ùå Arr√™ter</button>
                </div>
                
                <div style="margin-top: 30px;">
                    <h4>üë®‚Äç‚öïÔ∏è M√©decins disponibles</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                        <div class="medical-item">
                            <h5>Dr. Marie Dubois</h5>
                            <p>M√©decin g√©n√©raliste ‚Ä¢ 15 ans d'exp√©rience</p>
                            <p>üü¢ Disponible maintenant</p>
                        </div>
                        <div class="medical-item">
                            <h5>Dr. Jean Martin</h5>
                            <p>Cardiologue ‚Ä¢ 20 ans d'exp√©rience</p>
                            <p>üü° Disponible dans 15 min</p>
                        </div>
                        <div class="medical-item">
                            <h5>Dr. Sarah Chen</h5>
                            <p>P√©diatre ‚Ä¢ 12 ans d'exp√©rience</p>
                            <p>üü¢ Disponible maintenant</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Onglet Suivi Temporal -->
        <div class="tab-content" id="timeline">
            <div class="timeline-container">
                <h3>üìà Suivi Temporal des Sympt√¥mes</h3>
                <p>Suivez l'√©volution de vos sympt√¥mes et traitements dans le temps</p>
                
                <div class="chart-container">
                    <canvas id="symptomsChart" width="400" height="200"></canvas>
                </div>
                
                <div class="timeline" id="symptomsTimeline">
                    <div class="timeline-item">
                        <h5>Aujourd'hui - 14:30</h5>
                        <p><strong>Sympt√¥mes:</strong> Mal de t√™te (7/10), Fatigue</p>
                        <p><strong>Action:</strong> Prise de parac√©tamol 1g</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h5>Hier - 09:00</h5>
                        <p><strong>Sympt√¥mes:</strong> L√©g√®re fatigue (3/10)</p>
                        <p><strong>Action:</strong> Repos, hydratation</p>
                    </div>
                    
                    <div class="timeline-item">
                        <h5>Il y a 3 jours - 16:45</h5>
                        <p><strong>Consultation:</strong> Dr. Martin</p>
                        <p><strong>Diagnostic:</strong> Syndrome viral probable</p>
                        <p><strong>Traitement:</strong> Repos, parac√©tamol si besoin</p>
                    </div>
                </div>
                
                <button class="analyze-btn" onclick="addSymptomEntry()">
                    ‚ûï Ajouter une entr√©e
                </button>
            </div>
        </div>

        <!-- Onglet Capteurs IoT -->
        <div class="tab-content" id="sensors">
            <div class="main-content">
                <div>
                    <h3>üì± Int√©gration Capteurs IoT</h3>
                    <p>Connectez vos appareils de sant√© connect√©s pour un suivi en temps r√©el</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px;">
                        <div class="sensor-card" style="padding: 25px;">
                            <h4>üì± Apple Watch</h4>
                            <p>Rythme cardiaque, SpO2, ECG</p>
                            <div id="appleWatchStatus" style="color: #f44336;">üî¥ D√©connect√©</div>
                            <button class="voice-btn" onclick="connectAppleWatch()" style="margin-top: 15px;">Connecter</button>
                        </div>
                        
                        <div class="sensor-card" style="padding: 25px;">
                            <h4>üå°Ô∏è Thermom√®tre Intelligent</h4>
                            <p>Temp√©rature corporelle continue</p>
                            <div id="thermometerStatus" style="color: #f44336;">üî¥ D√©connect√©</div>
                            <button class="voice-btn" onclick="connectThermometer()" style="margin-top: 15px;">Connecter</button>
                        </div>
                        
                        <div class="sensor-card" style="padding: 25px;">
                            <h4>ü©∫ Tensiom√®tre Connected</h4>
                            <p>Tension art√©rielle automatique</p>
                            <div id="bpMonitorStatus" style="color: #f44336;">üî¥ D√©connect√©</div>
                            <button class="voice-btn" onclick="connectBPMonitor()" style="margin-top: 15px;">Connecter</button>
                        </div>
                        
                        <div class="sensor-card" style="padding: 25px;">
                            <h4>üíä Pilulier Intelligent</h4>
                            <p>Suivi des prises m√©dicamenteuses</p>
                            <div id="pillboxStatus" style="color: #f44336;">üî¥ D√©connect√©</div>
                            <button class="voice-btn" onclick="connectPillbox()" style="margin-top: 15px;">Connecter</button>
                        </div>
                        
                        <div class="sensor-card" style="padding: 25px;">
                            <h4>üò¥ Capteur de Sommeil</h4>
                            <p>Qualit√© et phases du sommeil</p>
                            <div id="sleepSensorStatus" style="color: #4caf50;">üü¢ Connect√©</div>
                            <button class="voice-btn" onclick="viewSleepData()" style="margin-top: 15px;">Voir donn√©es</button>
                        </div>
                        
                        <div class="sensor-card" style="padding: 25px;">
                            <h4>üèÉ Tracker d'Activit√©</h4>
                            <p>Pas, calories, activit√© physique</p>
                            <div id="activityTrackerStatus" style="color: #4caf50;">üü¢ Connect√©</div>
                            <button class="voice-btn" onclick="viewActivityData()" style="margin-top: 15px;">Voir donn√©es</button>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 40px;">
                    <h4>üìä Donn√©es en Temps R√©el</h4>
                    <div class="chart-container">
                        <canvas id="realtimeChart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Onglet IA Avanc√©e -->
        <div class="tab-content" id="ai">
            <div class="ai-panel" style="margin: 0;">
                <h3>ü§ñ Intelligence Artificielle M√©dicale Avanc√©e</h3>
                <p>Analyse pr√©dictive, apprentissage automatique et diagnostic assist√©</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                    <div style="background: white; padding: 25px; border-radius: 15px;">
                        <h4>üß† Machine Learning</h4>
                        <p>Analyse de patterns bas√©e sur 2M+ cas m√©dicaux</p>
                        
                        <div style="margin: 20px 0;">
                            <div>Pr√©cision diagnostique:</div>
                            <div class="confidence-meter">
                                <div class="confidence-fill" style="width: 94%"></div>
                            </div>
                            <div style="text-align: center; font-weight: bold; color: #4caf50;">94.2%</div>
                        </div>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <h5>üîÑ Entra√Ænement Continu</h5>
                            <p style="font-size: 13px;">Derni√®re mise √† jour: Il y a 2 heures</p>
                            <p style="font-size: 13px;">Nouveaux cas analys√©s: 1,247</p>
                        </div>
                    </div>
                    
                    <div style="background: white; padding: 25px; border-radius: 15px;">
                        <h4>üîÆ Analyse Pr√©dictive</h4>
                        <p>Pr√©diction de l'√©volution des pathologies</p>
                        
                        <div style="margin: 20px 0;">
                            <div>√âvaluation des risques:</div>
                            <div style="background: #e8f5e8; padding: 10px; border-radius: 8px; margin: 10px 0;">
                                <div style="color: #4caf50; font-weight: bold;">üü¢ Risque Faible</div>
                                <div style="font-size: 13px;">Probabilit√© de complication: 12%</div>
                            </div>
                        </div>
                        
                        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                            <h5>üí° Recommandations IA</h5>
                            <ul style="font-size: 13px; margin-left: 20px;">
                                <li>Surveillance sympt√¥mes 48h</li>
                                <li>Consultation si aggravation</li>
                                <li>Repos et hydratation</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Onglet Cloud Sync -->
        <div class="tab-content" id="cloud">
            <div class="cloud-panel">
                <h3>‚òÅÔ∏è Synchronisation Cloud S√©curis√©e</h3>
                <p>Sauvegarde automatique et acc√®s multi-plateforme √† vos donn√©es m√©dicales</p>
                
                <div class="sync-status">
                    <div>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div class="status-indicator"></div>
                            <span>Statut: Synchronis√©</span>
                        </div>
                        <div style="font-size: 13px; color: #666; margin-top: 5px;">
                            Derni√®re sync: Il y a 2 minutes
                        </div>
                    </div>
                    <button class="sync-btn" onclick="manualSync()">üîÑ Synchroniser</button>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
                    <div style="background: #f8f9fa; padding: 25px; border-radius: 15px;">
                        <h4>üíæ Stockage</h4>
                        <div style="margin: 20px 0;">
                            <div style="display: flex; justify-content: space-between;">
                                <span>Utilis√©:</span>
                                <span>2.3 GB / 100 GB</span>
                            </div>
                            <div class="confidence-meter" style="margin: 10px 0;">
                                <div class="confidence-fill" style="width: 2.3%; background: #4caf50;"></div>
                            </div>
                        </div>
                        
                        <div style="font-size: 13px; color: #666;">
                            <p>‚Ä¢ 127 consultations</p>
                            <p>‚Ä¢ 45 images m√©dicales</p>
                            <p>‚Ä¢ 89 rapports PDF</p>
                            <p>‚Ä¢ 15,432 donn√©es capteurs</p>
                        </div>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 25px; border-radius: 15px;">
                        <h4>üîí S√©curit√©</h4>
                        <div style="margin: 20px 0;">
                            <div style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
                                <span style="color: #4caf50;">‚úÖ</span>
                                <span>Chiffrement AES-256</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
                                <span style="color: #4caf50;">‚úÖ</span>
                                <span>Sauvegarde redondante</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
                                <span style="color: #4caf50;">‚úÖ</span>
                                <span>Conformit√© RGPD</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin: 10px 0;">
                                <span style="color: #4caf50;">‚úÖ</span>
                                <span>Certification ISO 27001</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let currentBodyType = 'homme';
        let currentView = 'face';
        let selectedBodyPart = '';
        let selectedSymptoms = [];
        let painLevel = 0;
        let sensorsConnected = false;
        let videoCallActive = false;
        let voiceRecognition = null;

        // Initialisation au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Assistant M√©dical IA v4.0 - Initialisation...');
            
            createParticles();
            initializeVoiceRecognition();
            updatePatientSummary();
            startSensorSimulation();
            
            console.log('‚úÖ Assistant M√©dical IA v4.0 pr√™t !');
        });

        // Cr√©ation des particules d'arri√®re-plan
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 25; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.width = Math.random() * 12 + 4 + 'px';
                particle.style.height = particle.style.width;
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 4) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Navigation par onglets
        function switchTab(tabName) {
            console.log('Changement vers onglet:', tabName);
            
            // Mettre √† jour les boutons de navigation
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[onclick="switchTab('${tabName}')"]`).classList.add('active');
            
            // Afficher le contenu correspondant
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            
            // Initialiser le contenu sp√©cifique
            if (tabName === 'timeline') {
                initializeTimeline();
            } else if (tabName === 'sensors') {
                updateSensorDisplay();
            }
        }

        // Gestion du formulaire patient
        function updatePatientSummary() {
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            const birthDate = document.getElementById('birthDate').value;
            const gender = document.getElementById('gender').value;
            const weight = document.getElementById('weight').value;
            const height = document.getElementById('height').value;
            
            let summary = '';
            if (firstName || lastName) {
                summary += `<div><strong>Patient:</strong> ${firstName} ${lastName}</div>`;
            }
            
            if (birthDate) {
                const age = calculateAge(birthDate);
                summary += `<div><strong>√Çge:</strong> ${age} ans</div>`;
            }
            
            if (gender) {
                summary += `<div><strong>Sexe:</strong> ${gender}</div>`;
            }
            
            if (weight && height) {
                const bmi = (weight / ((height/100) ** 2)).toFixed(1);
                summary += `<div><strong>IMC:</strong> ${bmi}</div>`;
            }
            
            document.getElementById('summaryContent').innerHTML = summary || 'Remplissez les informations ci-dessus';
        }

        function calculateAge(birthDate) {
            const birth = new Date(birthDate);
            const today = new Date();
            let age = today.getFullYear() - birth.getFullYear();
            const monthDiff = today.getMonth() - birth.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < birth.getDate())) {
                age--;
            }
            
            return age;
        }

        // Ajout des event listeners pour le formulaire
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('firstName').addEventListener('input', updatePatientSummary);
            document.getElementById('lastName').addEventListener('input', updatePatientSummary);
            document.getElementById('birthDate').addEventListener('input', updatePatientSummary);
            document.getElementById('gender').addEventListener('input', updatePatientSummary);
            document.getElementById('weight').addEventListener('input', updatePatientSummary);
            document.getElementById('height').addEventListener('input', updatePatientSummary);
        });

        // Gestion du corps interactif
        function switchBodyType(type) {
            console.log('Changement type de corps:', type);
            currentBodyType = type;
            
            // Mettre √† jour les boutons
            document.querySelectorAll('.body-type-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[onclick="switchBodyType('${type}')"]`).classList.add('active');
            
            updateBodyDisplay();
        }

        function switchView(view) {
            console.log('Changement vue:', view);
            currentView = view;
            
            // Mettre √† jour les boutons
            document.querySelectorAll('.view-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`[onclick="switchView('${view}')"]`).classList.add('active');
            
            updateBodyDisplay();
        }

        function updateBodyDisplay() {
            // Masquer toutes les vues
            document.querySelectorAll('.body-view').forEach(view => {
                view.style.display = 'none';
            });
            
            // Afficher la vue actuelle
            const viewId = `${currentBodyType}-${currentView}`;
            const currentViewElement = document.getElementById(viewId);
            if (currentViewElement) {
                currentViewElement.style.display = 'block';
            } else {
                // Fallback vers la vue face
                const faceView = document.getElementById(`${currentBodyType}-face`);
                if (faceView) {
                    faceView.style.display = 'block';
                }
            }
            
            clearBodySelection();
        }

        function clearBodySelection() {
            document.querySelectorAll('.body-part').forEach(part => {
                part.classList.remove('selected');
            });
            selectedBodyPart = '';
            document.getElementById('selectedPart').textContent = '';
        }

        function selectBodyPart(part) {
            console.log('S√©lection partie du corps:', part);
            
            clearBodySelection();
            
            // Trouver l'√©l√©ment cliqu√© et le marquer comme s√©lectionn√©
            const partElements = document.querySelectorAll(`[data-part="${part}"]`);
            partElements.forEach(element => {
                element.classList.add('selected');
            });
            
            selectedBodyPart = part;
            document.getElementById('selectedPart').textContent = `Zone s√©lectionn√©e : ${part}`;
        }

        // √âchelle de douleur
        function updatePainLevel(level) {
            console.log('Niveau de douleur:', level);
            painLevel = level;
            const emojis = ['üòä', 'üôÇ', 'üòê', 'üòï', 'üòü', 'üò£', 'üòñ', 'üò´', 'üò©', 'üò±', 'üÜò'];
            const colors = ['#4caf50', '#8bc34a', '#cddc39', '#ffeb3b', '#ffc107', '#ff9800', '#ff5722', '#f44336', '#e91e63', '#9c27b0', '#673ab7'];
            
            document.getElementById('painDisplay').textContent = `${emojis[level]} ${level}/10`;
            document.getElementById('painDisplay').style.color = colors[level];
        }

        // Gestion des sympt√¥mes
        function toggleSymptom(element, symptom) {
            console.log('Toggle sympt√¥me:', symptom);
            
            if (element.classList.contains('selected')) {
                element.classList.remove('selected');
                selectedSymptoms = selectedSymptoms.filter(s => s !== symptom);
            } else {
                element.classList.add('selected');
                selectedSymptoms.push(symptom);
            }
            
            updateSymptomText();
        }

        function updateSymptomText() {
            const currentText = document.getElementById('questionInput').value;
            const symptomsText = selectedSymptoms.join(', ');
            
            if (symptomsText && !currentText.includes(symptomsText)) {
                document.getElementById('questionInput').value = currentText ? 
                    `${currentText}\n\nSympt√¥mes s√©lectionn√©s: ${symptomsText}` : 
                    `Sympt√¥mes s√©lectionn√©s: ${symptomsText}`;
            }
        }

        // Reconnaissance vocale
        function initializeVoiceRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                voiceRecognition = new SpeechRecognition();
                voiceRecognition.lang = 'fr-FR';
                voiceRecognition.continuous = false;
                voiceRecognition.interimResults = true;

                voiceRecognition.onstart = function() {
                    document.getElementById('voiceBtn').classList.add('recording');
                    document.getElementById('voiceText').textContent = 'üî¥ Parlez maintenant...';
                    document.getElementById('voiceResult').textContent = '√âcoute en cours...';
                };

                voiceRecognition.onresult = function(event) {
                    let transcript = '';
                    for (let i = 0; i < event.results.length; i++) {
                        transcript += event.results[i][0].transcript;
                    }
                    
                    if (event.results[event.results.length - 1].isFinal) {
                        document.getElementById('questionInput').value = transcript;
                        document.getElementById('voiceResult').textContent = `Reconnu: "${transcript}"`;
                        updateAIInsight();
                    } else {
                        document.getElementById('voiceResult').textContent = `En cours: "${transcript}"`;
                    }
                };

                voiceRecognition.onerror = function(event) {
                    document.getElementById('voiceResult').textContent = `Erreur: ${event.error}`;
                    resetVoiceButton();
                };

                voiceRecognition.onend = function() {
                    resetVoiceButton();
                };
            } else {
                document.getElementById('voiceBtn').style.display = 'none';
            }
        }

        function toggleVoiceRecognition() {
            if (voiceRecognition) {
                if (document.getElementById('voiceBtn').classList.contains('recording')) {
                    voiceRecognition.stop();
                } else {
                    voiceRecognition.start();
                }
            }
        }

        function resetVoiceButton() {
            document.getElementById('voiceBtn').classList.remove('recording');
            document.getElementById('voiceText').textContent = 'üé§ Cliquez et d√©crivez vos sympt√¥mes';
        }

        // IA en temps r√©el
        function updateAIInsight() {
            const text = document.getElementById('questionInput').value;
            const confidence = Math.min(text.length * 2, 100);
            
            document.getElementById('confidenceFill').style.width = confidence + '%';
            
            if (text.length < 10) {
                document.getElementById('aiInsight').textContent = 'En attente d\'analyse...';
            } else if (text.length < 50) {
                document.getElementById('aiInsight').textContent = 'Analyse pr√©liminaire en cours...';
            } else {
                const keywords = {
                    'urgence': 'D√©tection de mots-cl√©s d\'urgence - √âvaluation prioritaire',
                    'douleur': 'Analyse de sympt√¥mes douloureux - Pattern reconnu',
                    'fi√®vre': 'Syndrome infectieux possible - Corr√©lation d√©tect√©e',
                    'mal de t√™te': 'C√©phal√©es analys√©es - Multiple causes possibles'
                };
                
                let insight = 'Analyse approfondie termin√©e - ';
                let found = false;
                
                for (const [keyword, message] of Object.entries(keywords)) {
                    if (text.toLowerCase().includes(keyword)) {
                        insight = message;
                        found = true;
                        break;
                    }
                }
                
                if (!found) {
                    insight += 'Sympt√¥mes complexes n√©cessitant √©valuation m√©dicale';
                }
                
                document.getElementById('aiInsight').textContent = insight;
            }
        }

        // Analyse des sympt√¥mes
        function analyzeSymptoms() {
            console.log('D√©but analyse des sympt√¥mes');
            
            const question = document.getElementById('questionInput').value.trim();
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            
            if (!question && !selectedBodyPart && selectedSymptoms.length === 0) {
                alert('‚ö†Ô∏è Veuillez d√©crire vos sympt√¥mes');
                return;
            }
            
            if (!firstName || !lastName) {
                alert('‚ö†Ô∏è Veuillez remplir les informations patient');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                const response = generateAnalysisResponse();
                showResponse(response);
                hideLoading();
            }, 3000);
        }

        function generateAnalysisResponse() {
            const question = document.getElementById('questionInput').value;
            const firstName = document.getElementById('firstName').value;
            const lastName = document.getElementById('lastName').value;
            
            let response = `
                <h3>ü©∫ Rapport de Consultation M√©dicale IA</h3>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 12px; margin: 15px 0;">
                    <h4>üë§ Informations Patient</h4>
                    <p><strong>Nom:</strong> ${firstName} ${lastName}</p>
                    <p><strong>Zone affect√©e:</strong> ${selectedBodyPart || 'Non sp√©cifi√©e'}</p>
                    <p><strong>Intensit√© douleur:</strong> ${painLevel}/10</p>
                    <p><strong>Sympt√¥mes s√©lectionn√©s:</strong> ${selectedSymptoms.join(', ') || 'Aucun'}</p>
                </div>
                
                <div style="background: #e3f2fd; padding: 20px; border-radius: 12px; margin: 15px 0;">
                    <h4>üîç Analyse des Sympt√¥mes</h4>
                    <p><strong>Description:</strong> "${question}"</p>
                    
                    <h5>üéØ Diagnostic pr√©liminaire</h5>
                    <p>Bas√© sur les informations fournies, plusieurs hypoth√®ses sont possibles :</p>
                    <ul>
                        <li>Syndrome g√©n√©ral non sp√©cifique</li>
                        <li>R√©action de stress ou fatigue</li>
                        <li>Pathologie b√©nigne probable</li>
                    </ul>
                </div>
                
                <div style="background: #e8f5e8; padding: 20px; border-radius: 12px; margin: 15px 0;">
                    <h4>üí° Recommandations</h4>
                    <ul>
                        <li>üõå Repos et surveillance des sympt√¥mes</li>
                        <li>üíß Hydratation r√©guli√®re (1.5-2L/jour)</li>
                        <li>üå°Ô∏è Surveillance de la temp√©rature</li>
                        <li>üìû Consultation m√©dicale si aggravation</li>
                    </ul>
                </div>
                
                <div style="background: #fff3e0; padding: 20px; border-radius: 12px; margin: 15px 0;">
                    <h4>‚ö†Ô∏è Signes d'alerte</h4>
                    <p>Consultez imm√©diatement si :</p>
                    <ul>
                        <li>Aggravation brutale des sympt√¥mes</li>
                        <li>Fi√®vre persistante > 39¬∞C</li>
                        <li>Douleur devenant insupportable</li>
                        <li>Difficult√©s respiratoires</li>
                    </ul>
                </div>
            `;
            
            // D√©tection d'urgence
            if (painLevel >= 9 || question.toLowerCase().includes('urgence') || question.toLowerCase().includes('difficult√© respirer')) {
                response = `
                    <div class="emergency-alert">
                        <h2>üö® URGENCE M√âDICALE D√âTECT√âE</h2>
                        <p><strong>ATTENTION: Situation n√©cessitant une prise en charge imm√©diate</strong></p>
                        <div style="margin: 20px 0;">
                            <button onclick="window.open('tel:15')" style="background: white; color: #f44336; border: none; padding: 15px 25px; border-radius: 25px; margin: 5px; font-weight: bold; cursor: pointer;">üìû SAMU (15)</button>
                            <button onclick="window.open('tel:112')" style="background: white; color: #f44336; border: none; padding: 15px 25px; border-radius: 25px; margin: 5px; font-weight: bold; cursor: pointer;">üÜò Urgences (112)</button>
                        </div>
                    </div>
                ` + response;
            }
            
            return response;
        }

        function showLoading() {
            document.getElementById('analyzeBtn').disabled = true;
            document.getElementById('loading').classList.add('show');
            document.getElementById('responseSection').classList.remove('show');
            
            // Animation du texte de chargement
            const loadingTexts = [
                'Initialisation IA m√©dicale...',
                'Analyse des sympt√¥mes...',
                'Consultation base de donn√©es...',
                'G√©n√©ration du diagnostic...',
                'Finalisation du rapport...'
            ];
            
            let textIndex = 0;
            const textInterval = setInterval(() => {
                if (textIndex < loadingTexts.length) {
                    document.getElementById('loadingText').textContent = loadingTexts[textIndex];
                    textIndex++;
                } else {
                    clearInterval(textInterval);
                }
            }, 600);
        }

        function hideLoading() {
            document.getElementById('analyzeBtn').disabled = false;
            document.getElementById('loading').classList.remove('show');
        }

        function showResponse(response) {
            document.getElementById('responseContent').innerHTML = response;
            document.getElementById('responseSection').classList.add('show');
            
            setTimeout(() => {
                document.getElementById('responseSection').scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
            }, 300);
        }

        // Base de donn√©es m√©dicale
        function searchMedicalDB() {
            const query = document.getElementById('medicalSearch').value.toLowerCase();
            const results = document.getElementById('medicalResults');
            
            if (!query.trim()) {
                results.innerHTML = '<div class="medical-item"><h4>üí° Entrez un terme de recherche</h4></div>';
                return;
            }
            
            const medicalData = {
                'migraine': {
                    name: 'Migraine',
                    symptoms: ['mal de t√™te pulsatile', 'naus√©es', 'sensibilit√© √† la lumi√®re'],
                    treatments: ['Triptans', 'Anti-inflammatoires', 'Repos'],
                    prevention: ['√âviter d√©clencheurs', 'Sommeil r√©gulier', 'Gestion stress']
                },
                'hypertension': {
                    name: 'Hypertension art√©rielle',
                    symptoms: ['maux de t√™te', 'vertiges', 'fatigue'],
                    treatments: ['ACE inhibiteurs', 'B√™ta-bloquants', 'Diur√©tiques'],
                    prevention: ['R√©gime pauvre en sel', 'Exercice', 'Gestion stress']
                },
                'diab√®te': {
                    name: 'Diab√®te type 2',
                    symptoms: ['soif excessive', 'urination fr√©quente', 'fatigue'],
                    treatments: ['Metformine', 'Insuline', 'R√©gime'],
                    prevention: ['Alimentation √©quilibr√©e', 'Activit√© physique']
                }
            };
            
            let found = false;
            let resultHTML = '';
            
            for (const [key, data] of Object.entries(medicalData)) {
                if (key.includes(query) || data.name.toLowerCase().includes(query)) {
                    found = true;
                    resultHTML += `
                        <div class="medical-item">
                            <h4>üè• ${data.name}</h4>
                            <p><strong>Sympt√¥mes:</strong> ${data.symptoms.join(', ')}</p>
                            <p><strong>Traitements:</strong> ${data.treatments.join(', ')}</p>
                            <p><strong>Pr√©vention:</strong> ${data.prevention.join(', ')}</p>
                        </div>
                    `;
                }
            }
            
            if (!found) {
                resultHTML = '<div class="medical-item"><h4>‚ùå Aucun r√©sultat trouv√©</h4><p>Essayez avec d\'autres termes</p></div>';
            }
            
            results.innerHTML = resultHTML;
        }

        // T√©l√©consultation
        function startVideoCall() {
            console.log('D√©marrage t√©l√©consultation');
            videoCallActive = true;
            const container = document.getElementById('videoContainer');
            
            container.innerHTML = `
                <div style="color: white; text-align: center;">
                    <h3>üìπ Appel en cours...</h3>
                    <div style="background: #4caf50; color: white; padding: 10px; border-radius: 8px; margin: 20px 0;">
                        Dr. Marie Dubois connect√©e
                    </div>
                    <div style="font-size: 48px; margin: 20px 0;">üë©‚Äç‚öïÔ∏è</div>
                    <p>Qualit√©: HD ‚Ä¢ Connexion s√©curis√©e</p>
                    <div style="margin-top: 20px;">
                        <div style="background: rgba(255,255,255,0.2); padding: 10px; border-radius: 8px; display: inline-block;">
                            üî¥ REC 00:${String(Math.floor(Math.random() * 60)).padStart(2, '0')}
                        </div>
                    </div>
                </div>
            `;
            
            // Simuler une conversation
            setTimeout(() => {
                simulateDocTorConversation();
            }, 3000);
        }

        function simulateDocTorConversation() {
            const messages = [
                "Dr. Dubois: Bonjour, comment puis-je vous aider aujourd'hui ?",
                "Dr. Dubois: Je vois que vous avez d√©crit des sympt√¥mes...",
                "Dr. Dubois: Depuis combien de temps avez-vous ces sympt√¥mes ?",
                "Dr. Dubois: Avez-vous pris des m√©dicaments r√©cemment ?"
            ];
            
            let messageIndex = 0;
            const interval = setInterval(() => {
                if (messageIndex < messages.length && videoCallActive) {
                    const container = document.getElementById('videoContainer');
                    const messageDiv = document.createElement('div');
                    messageDiv.style.cssText = `
                        position: absolute;
                        bottom: ${50 + messageIndex * 30}px;
                        left: 20px;
                        right: 20px;
                        background: rgba(0,0,0,0.8);
                        color: white;
                        padding: 10px;
                        border-radius: 8px;
                        font-size: 14px;
                    `;
                    messageDiv.textContent = messages[messageIndex];
                    container.appendChild(messageDiv);
                    messageIndex++;
                } else {
                    clearInterval(interval);
                }
            }, 4000);
        }

        function stopVideoCall() {
            console.log('Arr√™t t√©l√©consultation');
            videoCallActive = false;
            const container = document.getElementById('videoContainer');
            container.innerHTML = `
                <div class="video-placeholder">
                    <h3>üìπ Consultation termin√©e</h3>
                    <p>Dur√©e: 12 minutes ‚Ä¢ Enregistrement sauvegard√©</p>
                    <button class="video-btn start" onclick="downloadConsultation()" style="margin-top: 15px;">
                        üìÑ T√©l√©charger rapport
                    </button>
                </div>
            `;
        }

        function toggleMute() {
            const btn = event.target;
            if (btn.textContent.includes('Mute')) {
                btn.textContent = 'üîá Unmute';
                btn.style.background = '#f44336';
            } else {
                btn.textContent = 'üé§ Mute';
                btn.style.background = '#ff9800';
            }
        }

        function downloadConsultation() {
            alert('üíæ Rapport de t√©l√©consultation t√©l√©charg√© avec succ√®s !');
        }

        // Suivi temporal
        function initializeTimeline() {
            console.log('Initialisation timeline');
            const timelineData = JSON.parse(localStorage.getItem('symptomsTimeline') || '[]');
            createSymptomsChart(timelineData);
            updateTimelineDisplay(timelineData);
        }

        function createSymptomsChart(data) {
            const canvas = document.getElementById('symptomsChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Dessiner les axes
            ctx.strokeStyle = '#ccc';
            ctx.beginPath();
            ctx.moveTo(50, 50);
            ctx.lineTo(50, 180);
            ctx.lineTo(380, 180);
            ctx.stroke();
            
            // Dessiner les donn√©es
            if (data.length > 0) {
                ctx.strokeStyle = '#f44336';
                ctx.lineWidth = 3;
                ctx.beginPath();
                
                data.forEach((point, index) => {
                    const x = 50 + (index * 50);
                    const y = 180 - (point.pain * 13);
                    
                    if (index === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                    
                    ctx.fillStyle = '#f44336';
                    ctx.fillRect(x-3, y-3, 6, 6);
                });
                ctx.stroke();
            }
            
            // Labels
            ctx.fillStyle = '#666';
            ctx.font = '12px Arial';
            ctx.fillText('Douleur (0-10)', 5, 30);
            ctx.fillText('Temps', 350, 195);
        }

        function addSymptomEntry() {
            console.log('Ajout entr√©e sympt√¥me');
            const pain = painLevel;
            const symptoms = selectedSymptoms;
            const description = document.getElementById('questionInput').value;
            
            const entry = {
                date: new Date(),
                pain: pain,
                symptoms: symptoms,
                description: description,
                bodyPart: selectedBodyPart
            };
            
            let timeline = JSON.parse(localStorage.getItem('symptomsTimeline') || '[]');
            timeline.unshift(entry);
            
            if (timeline.length > 20) {
                timeline = timeline.slice(0, 20);
            }
            
            localStorage.setItem('symptomsTimeline', JSON.stringify(timeline));
            initializeTimeline();
            
            alert('‚úÖ Entr√©e ajout√©e au suivi temporal');
        }

        function updateTimelineDisplay(data) {
            const timeline = document.getElementById('symptomsTimeline');
            if (!timeline) return;
            
            if (data.length === 0) {
                timeline.innerHTML = `
                    <div class="timeline-item">
                        <h5>Aucune donn√©e</h5>
                        <p>Commencez √† enregistrer vos sympt√¥mes pour voir l'√©volution</p>
                    </div>
                `;
                return;
            }
            
            timeline.innerHTML = data.map(entry => {
                const date = new Date(entry.date).toLocaleString();
                return `
                    <div class="timeline-item">
                        <h5>${date}</h5>
                        <p><strong>Douleur:</strong> ${entry.pain}/10</p>
                        ${entry.bodyPart ? `<p><strong>Zone:</strong> ${entry.bodyPart}</p>` : ''}
                        ${entry.symptoms.length > 0 ? `<p><strong>Sympt√¥mes:</strong> ${entry.symptoms.join(', ')}</p>` : ''}
                        ${entry.description ? `<p><strong>Description:</strong> ${entry.description}</p>` : ''}
                    </div>
                `;
            }).join('');
        }

        // Capteurs IoT
        function startSensorSimulation() {
            setInterval(() => {
                if (sensorsConnected) {
                    updateSensorData();
                }
            }, 2000);
        }

        function updateSensorData() {
            const heartRate = Math.floor(Math.random() * 40 + 60);
            const temperature = (Math.random() * 2 + 36.5).toFixed(1);
            const bloodPressure = `${Math.floor(Math.random() * 40 + 110)}/${Math.floor(Math.random() * 20 + 70)}`;
            const oxygenSat = Math.floor(Math.random() * 5 + 95);
            
            document.getElementById('heartRate').textContent = `${heartRate} bpm`;
            document.getElementById('temperature').textContent = `${temperature}¬∞C`;
            document.getElementById('bloodPressure').textContent = bloodPressure;
            document.getElementById('oxygenSat').textContent = `${oxygenSat}%`;
            
            document.getElementById('heartTrend').textContent = heartRate > 80 ? '‚ÜóÔ∏è √âlev√©' : '‚úÖ Normal';
            document.getElementById('tempTrend').textContent = temperature > 37.5 ? 'üî• Fi√®vre' : '‚úÖ Normal';
            document.getElementById('pressureTrend').textContent = 'üìä Stable';
            document.getElementById('oxygenTrend').textContent = oxygenSat > 97 ? '‚úÖ Excellent' : '‚ö†Ô∏è Surveiller';
        }

        function updateSensorDisplay() {
            if (sensorsConnected) {
                updateSensorData();
            } else {
                document.getElementById('heartRate').textContent = '--';
                document.getElementById('temperature').textContent = '--';
                document.getElementById('bloodPressure').textContent = '--';
                document.getElementById('oxygenSat').textContent = '--';
            }
        }

        function connectSensors() {
            sensorsConnected = !sensorsConnected;
            
            if (sensorsConnected) {
                alert('üì± Capteurs connect√©s avec succ√®s !');
                updateSensorData();
            } else {
                alert('üì± Capteurs d√©connect√©s');
                updateSensorDisplay();
            }
        }

        // Fonctions de connexion sp√©cifiques
        function connectAppleWatch() {
            document.getElementById('appleWatchStatus').innerHTML = 'üü¢ Connect√©';
            document.getElementById('appleWatchStatus').style.color = '#4caf50';
            alert('‚åö Apple Watch connect√©e - Donn√©es biom√©triques synchronis√©es');
        }

        function connectThermometer() {
            document.getElementById('thermometerStatus').innerHTML = 'üü¢ Connect√©';
            document.getElementById('thermometerStatus').style.color = '#4caf50';
            alert('üå°Ô∏è Thermom√®tre intelligent connect√©');
        }

        function connectBPMonitor() {
            document.getElementById('bpMonitorStatus').innerHTML = 'üü¢ Connect√©';
            document.getElementById('bpMonitorStatus').style.color = '#4caf50';
            alert('ü©∫ Tensiom√®tre connect√©');
        }

        function connectPillbox() {
            document.getElementById('pillboxStatus').innerHTML = 'üü¢ Connect√©';
            document.getElementById('pillboxStatus').style.color = '#4caf50';
            alert('üíä Pilulier intelligent connect√©');
        }

        function viewSleepData() {
            alert('üò¥ Donn√©es de sommeil:\n‚Ä¢ Dur√©e: 7h 23min\n‚Ä¢ Efficacit√©: 89%\n‚Ä¢ Phases profondes: 1h 45min\n‚Ä¢ R√©veils: 3');
        }

        function viewActivityData() {
            alert('üèÉ Donn√©es d\'activit√©:\n‚Ä¢ Pas: 8,547\n‚Ä¢ Calories: 287 kcal\n‚Ä¢ Distance: 6.2 km\n‚Ä¢ Temps actif: 2h 15min');
        }

        // Cloud sync
        function manualSync() {
            const btn = event.target;
            btn.textContent = 'üîÑ Synchronisation...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.textContent = '‚úÖ Synchronis√©';
                setTimeout(() => {
                    btn.textContent = 'üîÑ Synchroniser';
                    btn.disabled = false;
                }, 2000);
            }, 3000);
            
            // Simuler la sauvegarde
            const cloudData = {
                patient: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value
                },
                symptoms: selectedSymptoms,
                bodyPart: selectedBodyPart,
                painLevel: painLevel
            };
            
            localStorage.setItem('cloudBackup', JSON.stringify(cloudData));
        }

        // Export et sauvegarde
        function exportToPDF() {
            const content = document.getElementById('responseContent').innerHTML;
            const printWindow = window.open('', '_blank');
            printWindow.document.write(`
                <html>
                <head>
                    <title>Rapport M√©dical IA v4.0 - ${new Date().toLocaleDateString('fr-FR')}</title>
                    <style>
                        body { font-family: Arial, sans-serif; margin: 20px; }
                        h3, h4, h5 { color: #1976D2; }
                        .emergency-alert { background: #ffebee; padding: 20px; border: 2px solid #f44336; }
                    </style>
                </head>
                <body>
                    <h1>üè• Rapport de Consultation M√©dicale IA v4.0</h1>
                    <p><strong>Date:</strong> ${new Date().toLocaleString('fr-FR')}</p>
                    <p><strong>Version:</strong> Assistant M√©dical IA Ultimate 4.0</p>
                    <hr>
                    ${content}
                    <hr>
                    <p style="font-size: 12px; color: #666;">
                        Ce rapport a √©t√© g√©n√©r√© par l'Assistant M√©dical IA v4.0.
                        Il ne remplace pas un diagnostic m√©dical professionnel.
                    </p>
                </body>
                </html>
            `);
            printWindow.document.close();
            printWindow.print();
        }

        function saveToHistory() {
            const consultation = {
                id: Date.now(),
                date: new Date(),
                patient: {
                    firstName: document.getElementById('firstName').value,
                    lastName: document.getElementById('lastName').value
                },
                symptoms: {
                    description: document.getElementById('questionInput').value,
                    selectedSymptoms: selectedSymptoms,
                    bodyPart: selectedBodyPart,
                    painLevel: painLevel
                }
            };
            
            let history = JSON.parse(localStorage.getItem('consultationHistory') || '[]');
            history.unshift(consultation);
            
            if (history.length > 10) {
                history = history.slice(0, 10);
            }
            
            localStorage.setItem('consultationHistory', JSON.stringify(history));
            alert('üíæ Consultation sauvegard√©e dans l\'historique !');
        }

        // Changement de langue
        function changeLanguage() {
            const lang = document.getElementById('languageSelect').value;
            console.log('Changement de langue:', lang);
            
            // Ici on pourrait impl√©menter la traduction compl√®te
            // Pour l'instant, on sauvegarde juste la pr√©f√©rence
            localStorage.setItem('selectedLanguage', lang);
            
            if (voiceRecognition) {
                const langCodes = {
                    'fr': 'fr-FR',
                    'en': 'en-US',
                    'es': 'es-ES',
                    'de': 'de-DE',
                    'it': 'it-IT',
                    'ar': 'ar-SA'
                };
                voiceRecognition.lang = langCodes[lang] || 'fr-FR';
            }
            
            alert(`üåç Langue chang√©e vers: ${lang.toUpperCase()}`);
        }

        // Event listeners suppl√©mentaires
        document.addEventListener('DOMContentLoaded', function() {
            // Charger la langue sauvegard√©e
            const savedLanguage = localStorage.getItem('selectedLanguage');
            if (savedLanguage) {
                document.getElementById('languageSelect').value = savedLanguage;
            }
            
            // Ajouter event listener pour changement de langue
            document.getElementById('languageSelect').addEventListener('change', changeLanguage);
            
            console.log('‚úÖ Tous les event listeners ajout√©s');
        });

        // Simulation de synchronisation cloud
        setInterval(() => {
            const status = document.getElementById('cloudStatus');
            const now = new Date().toLocaleTimeString();
            
            // Animation de sync occasionnelle
            if (Math.random() < 0.1) { // 10% de chance
                status.innerHTML = `
                    <div class="status-indicator" style="background: #ff9800;"></div>
                    <span>Synchronisation...</span>
                `;
                
                setTimeout(() => {
                    status.innerHTML = `
                        <div class="status-indicator"></div>
                        <span>Sync: ${now}</span>
                    `;
                }, 2000);
            }
        }, 30000); // Toutes les 30 secondes

        // Gestion des erreurs globales
        window.addEventListener('error', function(e) {
            console.error('Erreur d√©tect√©e:', e.error);
            // On peut afficher une notification √† l'utilisateur
        });

        // Message de bienvenue
        setTimeout(() => {
            console.log(`
            üè• Assistant M√©dical IA v4.0 Ultimate
            =====================================
            ‚úÖ Toutes les fonctionnalit√©s sont actives
            
            Fonctionnalit√©s disponibles:
            ‚Ä¢ ü©∫ Consultation interactive
            ‚Ä¢ üìö Base de donn√©es m√©dicale
            ‚Ä¢ üìπ T√©l√©consultation
            ‚Ä¢ üìà Suivi temporal
            ‚Ä¢ üì± Capteurs IoT
            ‚Ä¢ ü§ñ IA avanc√©e
            ‚Ä¢ ‚òÅÔ∏è Cloud sync
            ‚Ä¢ üåç Multi-langues
            
            Commencez par remplir les informations patient !
            `);
        }, 1000);
