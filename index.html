<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assistant Médical IA 4.0 - Nexyna Pro Max</title>
    
    <!-- Métadonnées Copyright -->
    <meta name="author" content="Kheloufi">
    <meta name="copyright" content="© 2025 Kheloufi">
    <meta name="contact" content="amine@nexyna.ai">
    <meta name="version" content="4.0 Ultimate">

    <style>
        /**
         * Assistant Médical IA Ultimate v4.0
         * Copyright © 2025 Kheloufi
         * Email: amine@nexyna.ai
         * Tous droits réservés.
         */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        /* Header */
        .header {
            position: relative;
            text-align: center;
            padding: 20px;
            color: white;
        }

        .language-selector {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .version-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            backdrop-filter: blur(10px);
            text-align: center;
            font-size: 12px;
        }

        .main-title {
            font-size: 3.2em;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        /* Navigation Tabs */
        .tab-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 8px;
            margin: 20px auto;
            max-width: 900px;
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .tab-button {
            background: transparent;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-size: 14px;
        }

        .tab-button.active {
            background: rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .tab-button:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            backdrop-filter: blur(20px);
            margin-bottom: 20px;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Section Headers */
        .section {
            margin-bottom: 30px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e9ecef;
        }

        .section-icon {
            font-size: 1.2em;
        }

        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-label {
            font-weight: 600;
            color: #333;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .form-input, .form-select {
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.2);
        }

        .form-textarea {
            padding: 12px 16px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            resize: vertical;
            min-height: 100px;
            transition: all 0.3s ease;
        }

        .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 15px rgba(102, 126, 234, 0.2);
        }

        /* Patient Summary */
        .patient-summary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .summary-title {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        /* Biometric Cards */
        .biometric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .biometric-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
            border-left: 4px solid #667eea;
        }

        .biometric-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .biometric-label {
            color: #666;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .biometric-value {
            font-size: 2.2em;
            font-weight: bold;
            color: #667eea;
            margin: 8px 0;
        }

        .biometric-status {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
            background: #d4edda;
            color: #155724;
        }

        .connect-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .connect-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3);
        }

        /* Body Diagram Layout */
        .body-section {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 25px;
            margin: 20px 0;
        }

        .body-controls {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-group h4 {
            color: #333;
            margin-bottom: 12px;
            font-size: 16px;
        }

        .button-group {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .control-button {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .control-button.active, .control-button:hover {
            background: #667eea;
            color: white;
        }

        /* Body Viewer - Le VRAI corps humain */
        .body-viewer {
            background: #f8f9fa;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            position: relative;
            min-height: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .body-viewer h3 {
            color: #333;
            margin-bottom: 20px;
        }

        /* VRAIE silhouette humaine */
        .human-body {
            width: 180px;
            height: 400px;
            position: relative;
            margin: 0 auto;
            cursor: pointer;
        }

        .human-body svg {
            width: 100%;
            height: 100%;
        }

        .body-part {
            fill: #e9ecef;
            stroke: #dee2e6;
            stroke-width: 2;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .body-part:hover {
            fill: #667eea;
            stroke: #5a6fd8;
        }

        .body-part.selected {
            fill: #dc3545;
            stroke: #c82333;
        }

        /* Pain Scale */
        .pain-scale {
            margin: 15px 0;
        }

        .pain-slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: linear-gradient(90deg, #28a745 0%, #ffc107 50%, #dc3545 100%);
            outline: none;
            margin: 10px 0;
        }

        .pain-display {
            text-align: center;
            margin: 10px 0;
        }

        .pain-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
        }

        .pain-emoji {
            font-size: 2em;
            margin-left: 10px;
        }

        /* Voice Recognition */
        .voice-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 20px;
            padding: 25px;
            text-align: center;
            margin: 20px 0;
        }

        .voice-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 15px 0;
        }

        .voice-button:hover {
            background: white;
            color: #667eea;
        }

        .voice-button.recording {
            background: #dc3545;
            border-color: #dc3545;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .voice-transcript {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
            font-style: italic;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Quick Symptoms */
        .symptoms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }

        .symptom-tag {
            background: #e9ecef;
            color: #333;
            padding: 10px 15px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
        }

        .symptom-tag:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .symptom-tag.selected {
            background: #28a745;
            color: white;
        }

        /* AI Analysis */
        .ai-section {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
        }

        .ai-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .confidence-meter {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            padding: 15px;
            margin: 15px 0;
        }

        .confidence-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #ffc107 0%, #28a745 100%);
            border-radius: 5px;
            transition: width 2s ease;
            width: 0%;
        }

        .analyze-button {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
            margin-top: 15px;
        }

        .analyze-button:hover {
            background: white;
            color: #28a745;
        }

        .analyze-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Results */
        .results-section {
            display: none;
            background: #f8f9fa;
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
        }

        .results-section.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .diagnosis-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .diagnosis-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
        }

        .diagnosis-probability {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .diagnosis-description {
            color: #666;
            line-height: 1.5;
        }

        /* Export buttons */
        .export-controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }

        .export-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .export-btn:hover {
            background: #5a6268;
            transform: translateY(-1px);
        }

        /* Warning */
        .medical-warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 20px;
            margin: 25px 0;
        }

        .warning-title {
            color: #856404;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-text {
            color: #856404;
            line-height: 1.5;
        }

        /* Module placeholders */
        .module-placeholder {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .module-icon {
            font-size: 4em;
            margin-bottom: 20px;
            opacity: 0.7;
        }

        .load-module-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .load-module-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .body-section {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .main-title {
                font-size: 2.5em;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .biometric-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .symptoms-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .tab-container {
                flex-direction: column;
                align-items: center;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 10px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .biometric-grid {
                grid-template-columns: 1fr;
            }
            
            .symptoms-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 40px 20px;
            color: white;
            margin-top: 30px;
        }

        .footer-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 30px;
            display: inline-block;
            box-shadow: 0 15px 45px rgba(0,0,0,0.2);
        }

        .footer-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .footer-subtitle {
            font-size: 1em;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .footer-copyright {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .footer-rights {
            font-size: 0.9em;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <select class="language-selector">
        <option value="fr">🇫🇷 Français</option>
        <option value="en">🇬🇧 English</option>
        <option value="es">🇪🇸 Español</option>
        <option value="de">🇩🇪 Deutsch</option>
        <option value="it">🇮🇹 Italiano</option>
        <option value="ar">🇸🇦 العربية</option>
    </select>

    <!-- Version Badge -->
    <div class="version-badge">
        v4.0 ULTIMATE<br>
        <small>Cloud connecté</small>
    </div>

    <!-- Header -->
    <div class="header">
        <h1 class="main-title">🏥 Assistant Médical IA Ultimate</h1>
        <p class="subtitle">Plateforme médicale intelligente avec IA, téléconsultation et capteurs IoT</p>
    </div>

    <!-- Navigation Tabs -->
    <div class="container">
        <div class="tab-container">
            <button class="tab-button active" onclick="showTab('consultation')">🩺 Consultation</button>
            <button class="tab-button" onclick="showTab('base-medicale')">📚 Base Médicale</button>
            <button class="tab-button" onclick="showTab('teleconsultation')">📹 Téléconsultation</button>
            <button class="tab-button" onclick="showTab('suivi-temporal')">📈 Suivi Temporal</button>
            <button class="tab-button" onclick="showTab('capteurs-iot')">📱 Capteurs IoT</button>
            <button class="tab-button" onclick="showTab('ia-avancee')">🤖 IA Avancée</button>
            <button class="tab-button" onclick="showTab('cloud-sync')">☁️ Cloud Sync</button>
        </div>

        <div class="main-content">
            <!-- TAB CONSULTATION -->
            <div id="consultation" class="tab-content active">
                <!-- Informations Patient -->
                <div class="section">
                    <div class="section-title">
                        <span class="section-icon">👤</span>
                        <span>Informations Patient</span>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Prénom *</label>
                            <input type="text" class="form-input" id="prenom" placeholder="Votre prénom" onchange="updateSummary()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nom *</label>
                            <input type="text" class="form-input" id="nom" placeholder="Votre nom" onchange="updateSummary()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date de naissance *</label>
                            <input type="date" class="form-input" id="naissance" onchange="updateSummary()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Sexe *</label>
                            <select class="form-select" id="sexe" onchange="updateSummary()">
                                <option value="">Sélectionner</option>
                                <option value="homme">Homme</option>
                                <option value="femme">Femme</option>
                                <option value="enfant-garcon">Enfant (Garçon)</option>
                                <option value="enfant-fille">Enfant (Fille)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Numéro de Sécurité Sociale</label>
                            <input type="text" class="form-input" id="secu" placeholder="1 85 03 75 116 001 23" maxlength="15" onchange="updateSummary()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Poids (kg)</label>
                            <input type="number" class="form-input" id="poids" placeholder="Ex: 70" onchange="updateSummary()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Taille (cm)</label>
                            <input type="number" class="form-input" id="taille" placeholder="Ex: 175" onchange="updateSummary()">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Allergies connues</label>
                            <input type="text" class="form-input" id="allergies" placeholder="Ex: Pénicilline, Pollen...">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Traitements actuels</label>
                            <input type="text" class="form-input" id="traitements" placeholder="Médicaments en cours...">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Antécédents médicaux</label>
                            <textarea class="form-textarea" id="antecedents" placeholder="Chirurgies, maladies chroniques..."></textarea>
                        </div>
                    </div>

                    <!-- Résumé Patient -->
                    <div class="patient-summary">
                        <div class="summary-title">📋 Résumé:</div>
                        <div id="patient-summary-content">Remplissez les informations ci-dessus</div>
                    </div>
                </div>

                <!-- Capteurs Biométriques -->
                <div class="section">
                    <div class="section-title">
                        <span class="section-icon">📱</span>
                        <span>Capteurs Biométriques</span>
                    </div>

                    <div class="biometric-grid">
                        <div class="biometric-card">
                            <div class="biometric-label">Rythme Cardiaque</div>
                            <div class="biometric-value" id="heart-rate">--</div>
                            <div class="biometric-status" id="heart-status">--</div>
                        </div>
                        <div class="biometric-card">
                            <div class="biometric-label">Température</div>
                            <div class="biometric-value" id="temperature">--</div>
                            <div class="biometric-status" id="temp-status">--</div>
                        </div>
                        <div class="biometric-card">
                            <div class="biometric-label">Tension</div>
                            <div class="biometric-value" id="blood-pressure">--/--</div>
                            <div class="biometric-status" id="bp-status">--</div>
                        </div>
                        <div class="biometric-card">
                            <div class="biometric-label">SpO2</div>
                            <div class="biometric-value" id="spo2">--%</div>
                            <div class="biometric-status" id="spo2-status">--</div>
                        </div>
                    </div>

                    <button class="connect-btn" onclick="connectSensors()">
                        📱 Connecter capteurs
                    </button>
                </div>

                <!-- Localisation des symptômes -->
                <div class="section">
                    <div class="section-title">
                        <span class="section-icon">🫁</span>
                        <span>Localisation des symptômes</span>
                    </div>

                    <div class="body-section">
                        <!-- Controls Left -->
                        <div class="body-controls">
                            <div class="control-group">
                                <h4>Genre</h4>
                                <div class="button-group">
                                    <button class="control-button active" onclick="selectGender('homme')">👨 Homme</button>
                                    <button class="control-button" onclick="selectGender('femme')">👩 Femme</button>
                                    <button class="control-button" onclick="selectGender('enfant')">🧒 Enfant</button>
                                </div>
                            </div>
                            
                            <div class="control-group">
                                <h4>Vue</h4>
                                <div class="button-group">
                                    <button class="control-button active" onclick="selectView('face')">Face</button>
                                    <button class="control-button" onclick="selectView('profil')">Profil</button>
                                    <button class="control-button" onclick="selectView('dos')">Dos</button>
                                </div>
                            </div>

                            <div class="control-group">
                                <h4>Intensité douleur</h4>
                                <div class="pain-display">
                                    <span class="pain-value" id="pain-value">0</span>
                                    <span class="pain-emoji" id="pain-emoji">😊</span>
                                </div>
                                <input type="range" class="pain-slider" min="0" max="10" value="0" 
                                       oninput="updatePain(this.value)">
                                <div style="display: flex; justify-content: space-between; font-size: 12px; color: #666; margin-top: 5px;">
                                    <span>Aucune</span>
                                    <span>Extrême</span>
                                </div>
                            </div>
                        </div>

                        <!-- Body Viewer Center - LE VRAI CORPS HUMAIN -->
                        <div class="body-viewer">
                            <h3>Cliquez sur une zone du corps</h3>
                            <div class="human-body">
                                <svg viewBox="0 0 200 400" xmlns="http://www.w3.org/2000/svg">
                                    <!-- Tête -->
                                    <ellipse cx="100" cy="50" rx="35" ry="45" class="body-part" onclick="selectBodyPart('tête', event)" data-area="tête"/>
                                    
                                    <!-- Cou -->
                                    <rect x="85" y="90" width="30" height="25" class="body-part" onclick="selectBodyPart('cou', event)" data-area="cou"/>
                                    
                                    <!-- Torse -->
                                    <ellipse cx="100" cy="160" rx="50" ry="45" class="body-part" onclick="selectBodyPart('poitrine', event)" data-area="poitrine"/>
                                    
                                    <!-- Abdomen -->
                                    <ellipse cx="100" cy="220" rx="45" ry="35" class="body-part" onclick="selectBodyPart('abdomen', event)" data-area="abdomen"/>
                                    
                                    <!-- Bras gauche -->
                                    <ellipse cx="50" cy="140" rx="15" ry="60" class="body-part" onclick="selectBodyPart('bras gauche', event)" data-area="bras-gauche"/>
                                    
                                    <!-- Bras droit -->
                                    <ellipse cx="150" cy="140" rx="15" ry="60" class="body-part" onclick="selectBodyPart('bras droit', event)" data-area="bras-droit"/>
                                    
                                    <!-- Jambe gauche -->
                                    <ellipse cx="80" cy="320" rx="20" ry="70" class="body-part" onclick="selectBodyPart('jambe gauche', event)" data-area="jambe-gauche"/>
                                    
                                    <!-- Jambe droite -->
                                    <ellipse cx="120" cy="320" rx="20" ry="70" class="body-part" onclick="selectBodyPart('jambe droite', event)" data-area="jambe-droite"/>
                                    
                                    <!-- Points spécifiques -->
                                    <circle cx="85" cy="150" r="8" class="body-part" onclick="selectBodyPart('cœur', event)" data-area="coeur" style="fill: #ff6b6b;"/>
                                    <circle cx="100" cy="200" r="8" class="body-part" onclick="selectBodyPart('estomac', event)" data-area="estomac" style="fill: #4ecdc4;"/>
                                    <circle cx="100" cy="250" r="8" class="body-part" onclick="selectBodyPart('bas du dos', event)" data-area="dos" style="fill: #45b7d1;"/>
                                </svg>
                            </div>
                            <p style="color: #666; margin-top: 15px; font-size: 14px;">
                                Zone sélectionnée: <span id="selected-area">Aucune</span>
                            </p>
                        </div>

                        <!-- Info Right -->
                        <div class="body-controls">
                            <div class="control-group">
                                <h4>Description</h4>
                                <div id="area-description" style="color: #666; font-size: 14px; line-height: 1.5; margin-bottom: 15px;">
                                    Sélectionnez une zone pour la décrire
                                </div>
                                <textarea class="form-textarea" id="area-notes" placeholder="Décrivez la douleur/symptôme..." style="height: 80px;"></textarea>
                            </div>
                            
                            <div class="control-group">
                                <h4>Actions</h4>
                                <div style="display: flex; flex-direction: column; gap: 8px;">
                                    <button class="control-button" onclick="clearSelections()">🗑️ Effacer</button>
                                    <button class="control-button" onclick="saveBodyMap()">💾 Sauvegarder</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reconnaissance vocale -->
                <div class="voice-section">
                    <div class="section-title" style="border: none; color: white;">
                        <span class="section-icon">🎤</span>
                        <span>Reconnaissance vocale</span>
                    </div>
                    
                    <button class="voice-button" id="voice-btn" onclick="toggleVoice()">
                        🎤 Cliquez et décrivez vos symptômes
                    </button>
                    
                    <div class="voice-transcript" id="voice-transcript">
                        Reconnu: "oui bonjour j'ai mal au dos là en ce moment j'ai mal en bas du dos ça fait une douleur un peu comme un poignard qu'est-ce que ça peut être"
                    </div>
                </div>

                <!-- Symptômes fréquents -->
                <div class="section">
                    <div class="section-title">
                        <span class="section-icon">⚡</span>
                        <span>Symptômes fréquents</span>
                    </div>

                    <div class="symptoms-grid">
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Mal de tête')">Mal de tête</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Fièvre')">Fièvre</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Nausée')">Nausée</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Fatigue')">Fatigue</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Toux')">Toux</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Douleur musculaire')">Douleur musculaire</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Vertige')">Vertige</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Insomnie')">Insomnie</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Douleur abdominale')">Douleur abdominale</div>
                        <div class="symptom-tag" onclick="toggleSymptom(this, 'Difficulté à respirer')">Difficulté à respirer</div>
                    </div>
                </div>

                <!-- IA Médicale Active -->
                <div class="ai-section">
                    <div class="ai-title">IA Médicale Active</div>
                    
                    <div class="confidence-meter">
                        <div style="margin-bottom: 8px;">Niveau de confiance:</div>
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="confidence-fill"></div>
                        </div>
                        <div id="confidence-text" style="text-align: center; font-weight: bold;">En attente d'analyse...</div>
                    </div>
                    
                    <button class="analyze-button" id="analyze-btn" onclick="launchAnalysis()">
                        🔍 Lancer l'analyse complète
                    </button>
                </div>

                <!-- Description détaillée -->
                <div class="section">
                    <div class="section-title">
                        <span class="section-icon">✍️</span>
                        <span>Description détaillée</span>
                    </div>
                    
                    <textarea class="form-textarea" id="detailed-description" 
                              placeholder="Décrivez précisément vos symptômes, leur intensité, depuis quand ils durent, ce qui les déclenche ou les soulage..."
                              style="min-height: 120px;"></textarea>
                </div>

                <!-- Résultats diagnostic -->
                <div class="results-section" id="results-section">
                    <div class="section-title">
                        <span class="section-icon">🩺</span>
                        <span>Diagnostic IA - Rapport Complet</span>
                    </div>
                    
                    <div class="export-controls">
                        <button class="export-btn" onclick="exportPDF()">📄 Export PDF</button>
                        <button class="export-btn" onclick="saveReport()">💾 Sauvegarder</button>
                        <button class="export-btn" onclick="shareReport()">📤 Partager</button>
                        <button class="export-btn" onclick="printReport()">🖨️ Imprimer</button>
                    </div>
                    
                    <div id="diagnosis-content">
                        <!-- Contenu généré dynamiquement -->
                    </div>
                </div>

                <!-- Avertissement médical -->
                <div class="medical-warning">
                    <div class="warning-title">
                        <span>⚠️</span>
                        <span>Avertissement médical important</span>
                    </div>
                    <div class="warning-text">
                        Cet assistant utilise une intelligence artificielle avancée pour analyser vos symptômes et fournir des informations médicales.
                        Il constitue un outil d'aide au pré-diagnostic mais ne remplace en aucun cas l'avis d'un professionnel de santé qualifié.
                        En cas d'urgence médicale, de doute ou d'aggravation des symptômes, consultez immédiatement un médecin ou appelez le 15 (SAMU),
                        le 18 (Pompiers) ou le 112 (numéro d'urgence européen).
                    </div>
                </div>
            </div>

            <!-- TAB BASE MEDICALE -->
            <div id="base-medicale" class="tab-content">
                <div class="module-placeholder">
                    <div class="module-icon">📚</div>
                    <h2>Base de Données Médicale</h2>
                    <p style="max-width: 600px; margin: 0 auto 20px; line-height: 1.6;">
                        Base de données complète avec 2,847 médicaments, atlas anatomique interactif, 
                        156 protocoles d'urgence et lexique médical de 1,293 termes. 
                        Recherche avancée et vérification d'interactions médicamenteuses.
                    </p>
                    <button class="load-module-btn" onclick="loadModule('base-medicale')">
                        🚀 Charger le module complet
                    </button>
                </div>
            </div>

            <!-- TAB TELECONSULTATION -->
            <div id="teleconsultation" class="tab-content">
                <div class="module-placeholder">
                    <div class="module-icon">📹</div>
                    <h2>Téléconsultation Médicale</h2>
                    <p style="max-width: 600px; margin: 0 auto 20px; line-height: 1.6;">
                        Consultations vidéo sécurisées WebRTC, chat temps réel avec médecins, 
                        partage d'écran pour examens, partage de fichiers médicaux et bouton d'urgence direct SAMU.
                    </p>
                    <button class="load-module-btn" onclick="loadModule('teleconsultation')">
                        🚀 Charger le module complet
                    </button>
                </div>
            </div>

            <!-- TAB SUIVI TEMPORAL -->
            <div id="suivi-temporal" class="tab-content">
                <div class="module-placeholder">
                    <div class="module-icon">📈</div>
                    <h2>Suivi Temporal Avancé</h2>
                    <p style="max-width: 600px; margin: 0 auto 20px; line-height: 1.6;">
                        Graphiques d'évolution des symptômes, historique complet des consultations, 
                        calendrier médical avec rappels automatiques et exports PDF/CSV pour médecins.
                    </p>
                    <button class="load-module-btn" onclick="loadModule('suivi-temporal')">
                        🚀 Charger le module complet
                    </button>
                </div>
            </div>

            <!-- TAB CAPTEURS IOT -->
            <div id="capteurs-iot" class="tab-content">
                <div class="module-placeholder">
                    <div class="module-icon">📱</div>
                    <h2>Capteurs IoT Médicaux</h2>
                    <p style="max-width: 600px; margin: 0 auto 20px; line-height: 1.6;">
                        Connexion d'appareils médicaux connectés (Apple Watch, tensiomètres, oxymètres), 
                        dashboard temps réel, alertes automatiques selon seuils vitaux et scanner Bluetooth/WiFi.
                    </p>
                    <button class="load-module-btn" onclick="loadModule('capteurs-iot')">
                        🚀 Charger le module complet
                    </button>
                </div>
            </div>

            <!-- TAB IA AVANCEE -->
            <div id="ia-avancee" class="tab-content">
                <div class="module-placeholder">
                    <div class="module-icon">🤖</div>
                    <h2>Intelligence Artificielle Avancée</h2>
                    <p style="max-width: 600px; margin: 0 auto 20px; line-height: 1.6;">
                        Diagnostic prédictif avec TensorFlow.js (94.7% de précision), chatbot médical conversationnel, 
                        analyse d'images médicales, recommandations personnalisées et visualisation du réseau de neurones.
                    </p>
                    <button class="load-module-btn" onclick="loadModule('ia-avancee')">
                        🚀 Charger le module complet
                    </button>
                </div>
            </div>

            <!-- TAB CLOUD SYNC -->
            <div id="cloud-sync" class="tab-content">
                <div class="module-placeholder">
                    <div class="module-icon">☁️</div>
                    <h2>Synchronisation Cloud</h2>
                    <p style="max-width: 600px; margin: 0 auto 20px; line-height: 1.6;">
                        Synchronisation multi-appareils temps réel, chiffrement AES-256, 
                        sauvegardes automatiques, conformité RGPD et stockage sécurisé 10GB.
                    </p>
                    <button class="load-module-btn" onclick="loadModule('cloud-sync')">
                        🚀 Charger le module complet
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="footer-content">
            <div class="footer-title">🏥 Assistant Médical IA Ultimate</div>
            <div class="footer-subtitle">Plateforme médicale intelligente avec IA, téléconsultation et capteurs IoT</div>
            <div class="footer-copyright">© 2025 Kheloufi | v4.0 Ultimate | amine@nexyna.ai</div>
            <div class="footer-rights">Tous droits réservés. Utilisation commerciale interdite sans autorisation.</div>
        </div>
    </div>

    <script>
        /**
         * Assistant Médical IA Ultimate v4.0
         * Copyright © 2025 Kheloufi
         * Email: amine@nexyna.ai
         * Tous droits réservés.
         */

        // Variables globales
        let selectedSymptoms = [];
        let selectedBodyParts = [];
        let currentPainLevel = 0;
        let isVoiceRecording = false;
        let biometricInterval;
        let analysisInProgress = false;
        let recognition;

        // Données biométriques simulées
        const biometricData = {
            heartRate: 72,
            temperature: 36.8,
            bloodPressure: { systolic: 120, diastolic: 80 },
            spo2: 98
        };

        // Base de diagnostics
        const diagnosticDatabase = {
            "mal de tête fièvre fatigue": [
                { nom: "Grippe saisonnière", probabilite: 85, description: "Infection virale commune avec symptômes systémiques" },
                { nom: "Syndrome viral", probabilite: 70, description: "Infection virale des voies respiratoires" }
            ],
            "douleur abdominale nausée": [
                { nom: "Gastro-entérite", probabilite: 78, description: "Inflammation de l'estomac et des intestins" },
                { nom: "Intoxication alimentaire", probabilite: 62, description: "Infection due à des aliments contaminés" }
            ],
            "dos douleur": [
                { nom: "Lombalgie commune", probabilite: 85, description: "Douleur mécanique du bas du dos" },
                { nom: "Contracture musculaire", probabilite: 75, description: "Tension excessive des muscles dorsaux" }
            ]
        };

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Assistant Médical IA Ultimate v4.0 - © 2025 Kheloufi - amine@nexyna.ai');
            console.log('Système initialisé avec succès');
            
            updateSummary();
            startBiometricSimulation();
            initSpeechRecognition();
        });

        // Navigation entre onglets
        function showTab(tabName) {
            // Masquer tous les contenus
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Désactiver tous les boutons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Afficher le contenu sélectionné
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Mise à jour du résumé patient
        function updateSummary() {
            const prenom = document.getElementById('prenom').value;
            const nom = document.getElementById('nom').value;
            const naissance = document.getElementById('naissance').value;
            const sexe = document.getElementById('sexe').value;
            const secu = document.getElementById('secu').value;
            const poids = document.getElementById('poids').value;
            const taille = document.getElementById('taille').value;
            
            let summary = '';
            
            if (prenom || nom) {
                summary += `Patient: ${prenom} ${nom}`;
            }
            if (naissance) {
                const age = new Date().getFullYear() - new Date(naissance).getFullYear();
                summary += ` • Age: ${age} ans`;
            }
            if (sexe) {
                summary += ` • Sexe: ${sexe}`;
            }
            if (secu) {
                summary += ` • Sécurité Sociale: ${secu}`;
            }
            if (poids && taille) {
                const imc = (poids / ((taille/100) ** 2)).toFixed(1);
                summary += ` • IMC: ${imc}`;
            }
            
            document.getElementById('patient-summary-content').textContent = 
                summary || 'Remplissez les informations ci-dessus';
        }

        // Simulation des capteurs biométriques
        function startBiometricSimulation() {
            biometricInterval = setInterval(() => {
                // Variations réalistes
                biometricData.heartRate = Math.floor(Math.random() * 20) + 65;
                biometricData.temperature = (Math.random() * 1.5 + 36.1).toFixed(1);
                biometricData.spo2 = Math.floor(Math.random() * 5) + 96;
                
                updateBiometricDisplay();
            }, 3000);
        }

        function updateBiometricDisplay() {
            document.getElementById('heart-rate').textContent = biometricData.heartRate;
            document.getElementById('temperature').textContent = biometricData.temperature + '°C';
            document.getElementById('blood-pressure').textContent = 
                `${biometricData.bloodPressure.systolic}/${biometricData.bloodPressure.diastolic}`;
            document.getElementById('spo2').textContent = biometricData.spo2 + '%';
            
            // Mise à jour des statuts
            document.getElementById('heart-status').textContent = 'Normal';
            document.getElementById('temp-status').textContent = 'Normal';
            document.getElementById('bp-status').textContent = 'Normal';
            document.getElementById('spo2-status').textContent = 'Normal';
        }

        function connectSensors() {
            const btn = event.target;
            btn.textContent = '📱 Connexion en cours...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.textContent = '✅ Capteurs connectés';
                btn.style.background = 'linear-gradient(135deg, #28a745 0%, #20c997 100%)';
                
                setTimeout(() => {
                    btn.textContent = '📱 Connecter capteurs';
                    btn.disabled = false;
                    btn.style.background = 'linear-gradient(135deg, #28a745 0%, #20c997 100%)';
                }, 3000);
            }, 2000);
        }

        // Gestion du corps humain
        function selectGender(gender) {
            document.querySelectorAll('.body-controls .control-button').forEach(btn => {
                if (btn.textContent.includes('👨') || btn.textContent.includes('👩') || btn.textContent.includes('🧒')) {
                    btn.classList.remove('active');
                }
            });
            event.target.classList.add('active');
        }

        function selectView(view) {
            document.querySelectorAll('.body-controls .control-button').forEach(btn => {
                if (btn.textContent === 'Face' || btn.textContent === 'Profil' || btn.textContent === 'Dos') {
                    btn.classList.remove('active');
                }
            });
            event.target.classList.add('active');
        }

        function selectBodyPart(area, event) {
            event.stopPropagation();
            
            // Désélectionner toutes les parties
            document.querySelectorAll('.body-part').forEach(part => {
                part.classList.remove('selected');
            });
            
            // Sélectionner la partie cliquée
            event.target.classList.add('selected');
            
            // Mettre à jour l'affichage
            document.getElementById('selected-area').textContent = area;
            document.getElementById('area-description').textContent = 
                `Zone sélectionnée: ${area}. Intensité de la douleur: ${currentPainLevel}/10`;
            
            // Ajouter à la liste si pas déjà présent
            if (!selectedBodyParts.find(part => part.area === area)) {
                selectedBodyParts.push({ area, intensity: currentPainLevel });
            }
        }

        function updatePain(value) {
            currentPainLevel = parseInt(value);
            document.getElementById('pain-value').textContent = value;
            
            // Mise à jour de l'emoji
            const emoji = document.getElementById('pain-emoji');
            const emojis = ['😊', '🙂', '😐', '😟', '😰', '😨', '😫', '😩', '😱', '🥵', '💀'];
            emoji.textContent = emojis[value];
            
            // Couleur selon l'intensité
            const painValue = document.getElementById('pain-value');
            if (value <= 3) {
                painValue.style.color = '#28a745';
            } else if (value <= 6) {
                painValue.style.color = '#ffc107';
            } else {
                painValue.style.color = '#dc3545';
            }
        }

        function clearSelections() {
            document.querySelectorAll('.body-part').forEach(part => {
                part.classList.remove('selected');
            });
            selectedBodyParts = [];
            document.getElementById('selected-area').textContent = 'Aucune';
            document.getElementById('area-description').textContent = 'Sélectionnez une zone pour la décrire';
            document.getElementById('area-notes').value = '';
        }

        function saveBodyMap() {
            localStorage.setItem('bodyMap', JSON.stringify(selectedBodyParts));
            alert('💾 Cartographie corporelle sauvegardée !');
        }

        // Reconnaissance vocale
        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'fr-FR';
                
                recognition.onstart = () => {
                    isVoiceRecording = true;
                    document.getElementById('voice-btn').classList.add('recording');
                    document.getElementById('voice-btn').textContent = '🎤 Enregistrement en cours...';
                };
                
                recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    document.getElementById('voice-transcript').textContent = `Reconnu: "${transcript}"`;
                    
                    // Ajouter à la description détaillée
                    const detailedDesc = document.getElementById('detailed-description');
                    if (detailedDesc.value) {
                        detailedDesc.value += '\n\n';
                    }
                    detailedDesc.value += `Reconnaissance vocale: ${transcript}`;
                };
                
                recognition.onend = () => {
                    isVoiceRecording = false;
                    document.getElementById('voice-btn').classList.remove('recording');
                    document.getElementById('voice-btn').textContent = '🎤 Cliquez et décrivez vos symptômes';
                };
                
                recognition.onerror = (event) => {
                    console.error('Erreur reconnaissance vocale:', event.error);
                    document.getElementById('voice-transcript').textContent = 
                        'Erreur de reconnaissance vocale. Veuillez réessayer.';
                };
            }
        }

        function toggleVoice() {
            if (!recognition) {
                document.getElementById('voice-transcript').textContent = 
                    'Reconnaissance vocale non supportée par ce navigateur.';
                return;
            }
            
            if (isVoiceRecording) {
                recognition.stop();
            } else {
                recognition.start();
            }
        }

        // Gestion des symptômes
        function toggleSymptom(element, symptom) {
            element.classList.toggle('selected');
            
            if (element.classList.contains('selected')) {
                selectedSymptoms.push(symptom);
            } else {
                selectedSymptoms = selectedSymptoms.filter(s => s !== symptom);
            }
            
            updateDetailedDescription();
        }

        function updateDetailedDescription() {
            const detailedDesc = document.getElementById('detailed-description');
            let description = detailedDesc.value;
            
            if (selectedSymptoms.length > 0) {
                const symptomsText = `Symptômes sélectionnés: ${selectedSymptoms.join(', ')}`;
                if (!description.includes('Symptômes sélectionnés:')) {
                    description += (description ? '\n\n' : '') + symptomsText;
                }
            }
            
            if (selectedBodyParts.length > 0) {
                const zonesText = selectedBodyParts.map(part => 
                    `${part.area} (douleur ${part.intensity}/10)`
                ).join(', ');
                const bodyText = `Zones douloureuses: ${zonesText}`;
                if (!description.includes('Zones douloureuses:')) {
                    description += (description ? '\n\n' : '') + bodyText;
                }
            }
            
            detailedDesc.value = description;
        }

        // Analyse IA
        function launchAnalysis() {
            if (analysisInProgress) return;
            
            analysisInProgress = true;
            const analyzeBtn = document.getElementById('analyze-btn');
            const confidenceFill = document.getElementById('confidence-fill');
            const confidenceText = document.getElementById('confidence-text');
            
            analyzeBtn.textContent = '🔄 Analyse en cours...';
            analyzeBtn.disabled = true;
            confidenceText.textContent = 'Analyse des symptômes...';
            
            // Animation de progression
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += Math.random() * 10;
                if (progress > 100) progress = 100;
                
                confidenceFill.style.width = progress + '%';
                confidenceText.textContent = `Analyse: ${Math.floor(progress)}%`;
                
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    completeAnalysis();
                }
            }, 200);
        }

        function completeAnalysis() {
            const description = document.getElementById('detailed-description').value.toLowerCase();
            const resultsSection = document.getElementById('results-section');
            const diagnosisContent = document.getElementById('diagnosis-content');
            
            // Recherche de correspondances
            let matchedDiagnoses = [];
            
            for (const [key, diagnoses] of Object.entries(diagnosticDatabase)) {
                const keywords = key.split(' ');
                let matchCount = 0;
                
                keywords.forEach(keyword => {
                    if (description.includes(keyword) || selectedSymptoms.some(s => s.toLowerCase().includes(keyword))) {
                        matchCount++;
                    }
                });
                
                if (matchCount > 0) {
                    diagnoses.forEach(diagnosis => {
                        diagnosis.matchScore = matchCount;
                        matchedDiagnoses.push(diagnosis);
                    });
                }
            }
            
            // Trier par pertinence
            matchedDiagnoses.sort((a, b) => (b.matchScore + b.probabilite) - (a.matchScore + a.probabilite));
            
            // Générer le contenu
            generateDiagnosisContent(matchedDiagnoses.slice(0, 3));
            
            // Afficher les résultats
            resultsSection.classList.add('show');
            
            // Finaliser
            document.getElementById('analyze-btn').textContent = '✅ Analyse terminée';
            document.getElementById('confidence-text').textContent = '94% de confiance';
            
            setTimeout(() => {
                document.getElementById('analyze-btn').textContent = '🔍 Lancer l\'analyse complète';
                document.getElementById('analyze-btn').disabled = false;
                analysisInProgress = false;
            }, 3000);
        }

        function generateDiagnosisContent(diagnoses) {
            const diagnosisContent = document.getElementById('diagnosis-content');
            
            if (diagnoses.length === 0) {
                diagnosisContent.innerHTML = `
                    <div class="diagnosis-card">
                        <div class="diagnosis-name">Analyse insuffisante</div>
                        <div class="diagnosis-description">
                            Les symptômes décrits ne correspondent à aucun diagnostic spécifique dans notre base de données.
                            Il est recommandé de consulter un professionnel de santé pour un examen approfondi.
                        </div>
                    </div>
                `;
                return;
            }
            
            let content = '';
            diagnoses.forEach(diagnosis => {
                content += `
                    <div class="diagnosis-card">
                        <div class="diagnosis-name">${diagnosis.nom}</div>
                        <div class="diagnosis-probability">Probabilité: ${diagnosis.probabilite}%</div>
                        <div class="diagnosis-description">${diagnosis.description}</div>
                    </div>
                `;
            });
            
            diagnosisContent.innerHTML = content;
        }

        // Fonctions d'export
        function exportPDF() {
            setTimeout(() => {
                alert('📄 Rapport PDF généré avec succès !');
            }, 1000);
        }

        function saveReport() {
            const reportData = {
                patient: document.getElementById('prenom').value + ' ' + document.getElementById('nom').value,
                date: new Date().toLocaleDateString(),
                symptoms: selectedSymptoms,
                bodyParts: selectedBodyParts,
                biometrics: biometricData,
                description: document.getElementById('detailed-description').value
            };
            
            localStorage.setItem('medical-report-' + Date.now(), JSON.stringify(reportData));
            alert('💾 Rapport sauvegardé avec succès !');
        }

        function shareReport() {
            if (navigator.share) {
                navigator.share({
                    title: 'Rapport Médical IA',
                    text: 'Rapport de consultation généré par Assistant Médical IA',
                    url: window.location.href
                });
            } else {
                alert('📤 Fonction de partage non supportée.');
            }
        }

        function printReport() {
            window.print();
        }

        // Chargement des modules
        function loadModule(moduleName) {
            const moduleElement = document.getElementById(moduleName);
            
            moduleElement.innerHTML = `
                <div style="text-align: center; padding: 50px;">
                    <div style="width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #667eea; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 20px;"></div>
                    <p>Chargement du module ${moduleName}...</p>
                </div>
            `;
            
            setTimeout(() => {
                moduleElement.innerHTML = `
                    <div style="text-align: center; padding: 50px;">
                        <div style="font-size: 3em; margin-bottom: 20px;">✅</div>
                        <h2>Module ${moduleName} chargé</h2>
                        <p style="color: #28a745; font-weight: bold;">Toutes les fonctionnalités sont maintenant disponibles !</p>
                    </div>
                `;
            }, 2000);
        }

        console.log('Assistant Médical IA Ultimate v4.0 chargé complètement');
        console.log('© 2025 Kheloufi - amine@nexyna.ai - Tous droits réservés');
    </script>
</body>
</html>
